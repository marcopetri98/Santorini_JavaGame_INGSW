


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="htmlId">
<head>
  <title>Coverage Report :: CliGame</title>
  <style type="text/css">
    @import "../../.css/coverage.css";
  </style>
</head>

<body>
<div class="header"></div>

<div class="content">
<div class="breadCrumbs">
    [ <a href="../../index.html">all classes</a> ]
    [ <a href="../index.html">it.polimi.ingsw.ui.cli.view</a> ]
</div>

<h1>Coverage Summary for Class: CliGame (it.polimi.ingsw.ui.cli.view)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">CliGame</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 34)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 866)
  </span>
</td>
</tr>
  <tr>
    <td class="name">CliGame$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 3)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 35)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 869)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<div class="sourceCode"><i>1</i>&nbsp;package it.polimi.ingsw.ui.cli.view;
<i>2</i>&nbsp;
<i>3</i>&nbsp;import it.polimi.ingsw.core.state.GamePhase;
<i>4</i>&nbsp;import it.polimi.ingsw.core.state.GodsPhase;
<i>5</i>&nbsp;import it.polimi.ingsw.core.state.Phase;
<i>6</i>&nbsp;import it.polimi.ingsw.core.state.Turn;
<i>7</i>&nbsp;import it.polimi.ingsw.network.game.*;
<i>8</i>&nbsp;import it.polimi.ingsw.network.objects.*;
<i>9</i>&nbsp;import it.polimi.ingsw.ui.cli.controller.UserInputController;
<i>10</i>&nbsp;import it.polimi.ingsw.util.Constants;
<i>11</i>&nbsp;import it.polimi.ingsw.util.exceptions.UserInputTimeoutException;
<i>12</i>&nbsp;
<i>13</i>&nbsp;import it.polimi.ingsw.util.Color;
<i>14</i>&nbsp;import java.io.IOException;
<i>15</i>&nbsp;import java.util.*;
<i>16</i>&nbsp;
<i>17</i>&nbsp;/**
<i>18</i>&nbsp; * This class interfaces with the user through the cli
<i>19</i>&nbsp; */
<i>20</i>&nbsp;public class CliGame {
<i>21</i>&nbsp;	// other view object and attributes relative to the connection with server
<i>22</i>&nbsp;	private final Deque&lt;NetObject&gt; messages;
<i>23</i>&nbsp;	private final CliInput cliInput;
<i>24</i>&nbsp;	private UserInputController inputController;
<i>25</i>&nbsp;	// state attributes that are used to represent the view
<i>26</i>&nbsp;	private boolean challenger;
<i>27</i>&nbsp;	private final Turn phase;
<i>28</i>&nbsp;	private List&lt;String&gt; players;
<i>29</i>&nbsp;	private final Map&lt;String, Color&gt; playerColors;
<i>30</i>&nbsp;	private final List&lt;String&gt; gods;
<i>31</i>&nbsp;	private final Map&lt;String, String&gt; chosenGods;
<i>32</i>&nbsp;	private String player;
<i>33</i>&nbsp;	private String activePlayer;
<i>34</i>&nbsp;	private String starter;
<i>35</i>&nbsp;	private NetMap netMap;
<i>36</i>&nbsp;	private NetMap oldNetMap;
<i>37</i>&nbsp;	private List&lt;NetMove&gt; netMoves;
<i>38</i>&nbsp;	private List&lt;NetBuild&gt; netBuilds;
<i>39</i>&nbsp;	private NetMove selectedMove;
<i>40</i>&nbsp;	private NetBuild selectedBuild;
<i>41</i>&nbsp;	private int activeWorkerID;
<i>42</i>&nbsp;	// attributes used for functioning
<b class="nc"><i>43</i>&nbsp;	private boolean printInput = false;</b>
<i>44</i>&nbsp;	private boolean functioning;
<i>45</i>&nbsp;	private final Object inputLock;
<b class="nc"><i>46</i>&nbsp;	private boolean godsGoAlreadyCalled = false;</b>
<b class="nc"><i>47</i>&nbsp;	private boolean chooseStarter = false;	//true if the challenger has to choose the player</b>
<b class="nc"><i>48</i>&nbsp;	private boolean alreadyPrintedPlay = false;</b>
<b class="nc"><i>49</i>&nbsp;	private boolean drawPoss = false;</b>
<b class="nc"><i>50</i>&nbsp;	private boolean sentCorrectMessage = false;</b>
<b class="nc"><i>51</i>&nbsp;	private boolean printedGuide = false;</b>
<b class="nc"><i>52</i>&nbsp;	private boolean cellToFill = false;</b>
<b class="nc"><i>53</i>&nbsp;	private boolean hasBuiltBefore = false;	//for prometheus</b>
<i>54</i>&nbsp;
<i>55</i>&nbsp;	/**
<i>56</i>&nbsp;	 * Constructor of CliGame class
<i>57</i>&nbsp;	 * @param inputGetter the scanner of the input
<i>58</i>&nbsp;	 */
<b class="nc"><i>59</i>&nbsp;	public CliGame(CliInput inputGetter) {</b>
<b class="nc"><i>60</i>&nbsp;		messages = new ArrayDeque&lt;&gt;();</b>
<b class="nc"><i>61</i>&nbsp;		cliInput = inputGetter;</b>
<b class="nc"><i>62</i>&nbsp;		inputController = null;</b>
<i>63</i>&nbsp;		// game attributes
<b class="nc"><i>64</i>&nbsp;		challenger = false;</b>
<b class="nc"><i>65</i>&nbsp;		phase = new Turn();</b>
<b class="nc"><i>66</i>&nbsp;		players = new ArrayList&lt;&gt;();</b>
<b class="nc"><i>67</i>&nbsp;		playerColors = new HashMap&lt;&gt;();</b>
<b class="nc"><i>68</i>&nbsp;		gods = new ArrayList&lt;&gt;();</b>
<b class="nc"><i>69</i>&nbsp;		chosenGods = new HashMap&lt;&gt;();</b>
<b class="nc"><i>70</i>&nbsp;		player = null;</b>
<b class="nc"><i>71</i>&nbsp;		activePlayer = null;</b>
<b class="nc"><i>72</i>&nbsp;		netMap = null;</b>
<b class="nc"><i>73</i>&nbsp;		netMoves = null;</b>
<b class="nc"><i>74</i>&nbsp;		netBuilds = null;</b>
<b class="nc"><i>75</i>&nbsp;		selectedMove = null;</b>
<b class="nc"><i>76</i>&nbsp;		selectedBuild = null;</b>
<i>77</i>&nbsp;		// functioning attributes
<b class="nc"><i>78</i>&nbsp;		functioning = true;</b>
<b class="nc"><i>79</i>&nbsp;		inputLock = new Object();</b>
<i>80</i>&nbsp;	}
<i>81</i>&nbsp;
<i>82</i>&nbsp;	/**
<i>83</i>&nbsp;	 * This is the start method which is the core of CliGame class: the while cycle goes on until the end of the game
<i>84</i>&nbsp;	 */
<i>85</i>&nbsp;	public void start() {
<i>86</i>&nbsp;		Command currentCommand;
<i>87</i>&nbsp;
<b class="nc"><i>88</i>&nbsp;		printInitialPhase();</b>
<i>89</i>&nbsp;		// functioning is set to false by parseSyntax if the user wants to quit the game
<b class="nc"><i>90</i>&nbsp;		while (functioning) {</b>
<b class="nc"><i>91</i>&nbsp;			if(sentCorrectMessage){</b>
<b class="nc"><i>92</i>&nbsp;				synchronized (inputLock){</b>
<i>93</i>&nbsp;					try{
<b class="nc"><i>94</i>&nbsp;						inputLock.wait();</b>
<b class="nc"><i>95</i>&nbsp;					} catch (InterruptedException e) {</b>
<b class="nc"><i>96</i>&nbsp;						throw new AssertionError(&quot;Error: something interrupted the executing thread&quot;);</b>
<b class="nc"><i>97</i>&nbsp;					}</b>
<b class="nc"><i>98</i>&nbsp;				}</b>
<i>99</i>&nbsp;			}
<i>100</i>&nbsp;			try {
<i>101</i>&nbsp;				// it tries to read user input without interrupting and to be interrupted
<b class="nc"><i>102</i>&nbsp;				parseMessages();</b>
<b class="nc"><i>103</i>&nbsp;				if(printInput){</b>
<b class="nc"><i>104</i>&nbsp;					typeInputPrint();</b>
<b class="nc"><i>105</i>&nbsp;					printInput = false;</b>
<i>106</i>&nbsp;				}
<i>107</i>&nbsp;				//System.out.println(&quot;\n&quot;+Constants.BG_CYAN+activePlayer+Constants.RESET+&quot;\n&quot;);	//Only for debug purposes
<b class="nc"><i>108</i>&nbsp;				currentCommand = cliInput.getInput();</b>
<b class="nc"><i>109</i>&nbsp;				if (parseSyntax(currentCommand)) {</b>
<i>110</i>&nbsp;					// the user wrote a correct message that can be wrote in the current phase, so this is sent to the view controller
<b class="nc"><i>111</i>&nbsp;					if(phase.getPhase() == Phase.PLAYERTURN){</b>
<b class="nc"><i>112</i>&nbsp;						drawProvisionalMap();</b>
<b class="nc"><i>113</i>&nbsp;						if(!cliInput.getUndo()){	//at the end of a 5 sec TIMER getUndo returns true if undo was written; if undo wasn&#39;t written I run the usual code</b>
<b class="nc"><i>114</i>&nbsp;							if (selectedMove != null) {</b>
<b class="nc"><i>115</i>&nbsp;								inputController.getCommand(currentCommand,phase.clone(),selectedMove);</b>
<b class="nc"><i>116</i>&nbsp;							} else if (selectedBuild != null) {</b>
<b class="nc"><i>117</i>&nbsp;								inputController.getCommand(currentCommand,phase.clone(),selectedBuild);</b>
<i>118</i>&nbsp;							} else {
<b class="nc"><i>119</i>&nbsp;								inputController.getCommand(currentCommand,phase.clone());</b>
<i>120</i>&nbsp;							}
<b class="nc"><i>121</i>&nbsp;							selectedMove = null;</b>
<b class="nc"><i>122</i>&nbsp;							selectedBuild = null;</b>
<b class="nc"><i>123</i>&nbsp;							sentCorrectMessage = true;</b>
<i>124</i>&nbsp;						} else {	//otherwise I tell to rewrite the line and I restore the old netMap
<b class="nc"><i>125</i>&nbsp;							netMap = oldNetMap;</b>
<b class="nc"><i>126</i>&nbsp;							drawPossibilities();</b>
<b class="nc"><i>127</i>&nbsp;							System.out.println(&quot;You undid your action, insert again your command&quot;);</b>
<b class="nc"><i>128</i>&nbsp;							selectedMove = null;</b>
<b class="nc"><i>129</i>&nbsp;							selectedBuild = null;</b>
<b class="nc"><i>130</i>&nbsp;							sentCorrectMessage = false;</b>
<i>131</i>&nbsp;						}
<i>132</i>&nbsp;					} else {
<b class="nc"><i>133</i>&nbsp;						if (selectedMove != null) {</b>
<b class="nc"><i>134</i>&nbsp;							inputController.getCommand(currentCommand,phase.clone(),selectedMove);</b>
<b class="nc"><i>135</i>&nbsp;						} else if (selectedBuild != null) {</b>
<b class="nc"><i>136</i>&nbsp;							inputController.getCommand(currentCommand,phase.clone(),selectedBuild);</b>
<i>137</i>&nbsp;						} else {
<b class="nc"><i>138</i>&nbsp;							inputController.getCommand(currentCommand,phase.clone());</b>
<i>139</i>&nbsp;						}
<b class="nc"><i>140</i>&nbsp;						selectedMove = null;</b>
<b class="nc"><i>141</i>&nbsp;						selectedBuild = null;</b>
<b class="nc"><i>142</i>&nbsp;						sentCorrectMessage = true;</b>
<i>143</i>&nbsp;					}
<i>144</i>&nbsp;
<i>145</i>&nbsp;				} else {
<b class="nc"><i>146</i>&nbsp;					printError();</b>
<i>147</i>&nbsp;				}
<b class="nc"><i>148</i>&nbsp;			} catch (IOException | UserInputTimeoutException e) {</b>
<i>149</i>&nbsp;				// the user input read has been interrupted because server has sent a message to the player, this message must be handled
<b class="nc"><i>150</i>&nbsp;				parseMessages();</b>
<b class="nc"><i>151</i>&nbsp;			} catch (IllegalStateException e) {</b>
<b class="nc"><i>152</i>&nbsp;				throw new AssertionError(&quot;Fatal error: design problem, the get command is called with a command that does not match game phase&quot;);</b>
<b class="nc"><i>153</i>&nbsp;			}</b>
<i>154</i>&nbsp;		}
<i>155</i>&nbsp;	}
<i>156</i>&nbsp;
<i>157</i>&nbsp;	/* **********************************************
<i>158</i>&nbsp;	 *												*
<i>159</i>&nbsp;	 *												*
<i>160</i>&nbsp;	 *												*
<i>161</i>&nbsp;	 *			GETTERS OF THIS CLASS				*
<i>162</i>&nbsp;	 * 												*
<i>163</i>&nbsp;	 * 												*
<i>164</i>&nbsp;	 * 												*
<i>165</i>&nbsp;	 ************************************************/
<i>166</i>&nbsp;
<i>167</i>&nbsp;	/**
<i>168</i>&nbsp;	 * Phase getter
<i>169</i>&nbsp;	 * @return phase of CliGame (which is synchronized with Game&#39;s one)
<i>170</i>&nbsp;	 */
<i>171</i>&nbsp;	public Turn getPhase(){
<b class="nc"><i>172</i>&nbsp;		return phase.clone();</b>
<i>173</i>&nbsp;	}
<i>174</i>&nbsp;
<i>175</i>&nbsp;	/**
<i>176</i>&nbsp;	 * Phase getter
<i>177</i>&nbsp;	 * @return phase of CliGame (which is synchronized with Game&#39;s one)
<i>178</i>&nbsp;	 */
<i>179</i>&nbsp;	public Turn getPhasePointer() {
<b class="nc"><i>180</i>&nbsp;		return phase;</b>
<i>181</i>&nbsp;	}
<i>182</i>&nbsp;
<i>183</i>&nbsp;	/**
<i>184</i>&nbsp;	 * Players getter
<i>185</i>&nbsp;	 * @return and arraylist of the players
<i>186</i>&nbsp;	 */
<i>187</i>&nbsp;	public List&lt;String&gt; getPlayers() {
<b class="nc"><i>188</i>&nbsp;		return new ArrayList&lt;&gt;(players);</b>
<i>189</i>&nbsp;	}
<i>190</i>&nbsp;
<i>191</i>&nbsp;	/* **********************************************
<i>192</i>&nbsp;	 *												*
<i>193</i>&nbsp;	 *												*
<i>194</i>&nbsp;	 *												*
<i>195</i>&nbsp;	 *			SETTERS OF THIS CLASS				*
<i>196</i>&nbsp;	 * 												*
<i>197</i>&nbsp;	 * 												*
<i>198</i>&nbsp;	 * 												*
<i>199</i>&nbsp;	 ************************************************/
<i>200</i>&nbsp;	// SETTERS
<i>201</i>&nbsp;
<i>202</i>&nbsp;	/**
<i>203</i>&nbsp;	 * Setter: sets the UserInputController
<i>204</i>&nbsp;	 * @param inputController the controller for the cli
<i>205</i>&nbsp;	 */
<i>206</i>&nbsp;	public void setInputController(UserInputController inputController) {
<b class="nc"><i>207</i>&nbsp;		this.inputController = inputController;</b>
<i>208</i>&nbsp;	}
<i>209</i>&nbsp;
<i>210</i>&nbsp;	/**
<i>211</i>&nbsp;	 * Setter: adds the players to the arraylist, so that CliGame knows who is playing
<i>212</i>&nbsp;	 * @param lobbyMsg the message from the server
<i>213</i>&nbsp;	 */
<i>214</i>&nbsp;	public void setPlayers(NetLobbyPreparation lobbyMsg) {
<b class="nc"><i>215</i>&nbsp;		players = new ArrayList&lt;&gt;(players);</b>
<b class="nc"><i>216</i>&nbsp;		while (lobbyMsg != null) {</b>
<b class="nc"><i>217</i>&nbsp;			players.add(lobbyMsg.player);</b>
<b class="nc"><i>218</i>&nbsp;			lobbyMsg = lobbyMsg.next;</b>
<i>219</i>&nbsp;		}
<i>220</i>&nbsp;	}
<i>221</i>&nbsp;
<i>222</i>&nbsp;	/**
<i>223</i>&nbsp;	 * Setter: sets the name of this player
<i>224</i>&nbsp;	 * @param name the name of this player
<i>225</i>&nbsp;	 * @throws NullPointerException if name is null
<i>226</i>&nbsp;	 */
<i>227</i>&nbsp;	public void setPlayerName(String name) throws NullPointerException {
<b class="nc"><i>228</i>&nbsp;		if (name == null) {</b>
<b class="nc"><i>229</i>&nbsp;			throw new NullPointerException();</b>
<i>230</i>&nbsp;		}
<b class="nc"><i>231</i>&nbsp;		player = name;</b>
<i>232</i>&nbsp;	}
<i>233</i>&nbsp;
<i>234</i>&nbsp;	/**
<i>235</i>&nbsp;	 * This method adds to the deque the messages. It is called from the MainCliController class
<i>236</i>&nbsp;	 * @param message the message to enqueue
<i>237</i>&nbsp;	 * @throws NullPointerException if message is null
<i>238</i>&nbsp;	 */
<i>239</i>&nbsp;	public void addToQueue(NetObject message) {
<i>240</i>&nbsp;		//System.out.println(&quot;\n&quot;+Constants.FG_RED+message.message+Constants.RESET+&quot;\n&quot;);	//Only for debug purposes
<b class="nc"><i>241</i>&nbsp;		if(message == null) {</b>
<b class="nc"><i>242</i>&nbsp;			throw new NullPointerException();</b>
<i>243</i>&nbsp;		}
<b class="nc"><i>244</i>&nbsp;		synchronized (messages) {</b>
<b class="nc"><i>245</i>&nbsp;			messages.add(message);</b>
<b class="nc"><i>246</i>&nbsp;		}</b>
<b class="nc"><i>247</i>&nbsp;		synchronized (inputLock){</b>
<b class="nc"><i>248</i>&nbsp;			inputLock.notifyAll();</b>
<b class="nc"><i>249</i>&nbsp;		}</b>
<b class="nc"><i>250</i>&nbsp;		sentCorrectMessage = false;</b>
<i>251</i>&nbsp;	}
<i>252</i>&nbsp;
<i>253</i>&nbsp;	/* **********************************************
<i>254</i>&nbsp;	 *												*
<i>255</i>&nbsp;	 *												*
<i>256</i>&nbsp;	 *												*
<i>257</i>&nbsp;	 *				PARSING FUNCTIONS				*
<i>258</i>&nbsp;	 * 												*
<i>259</i>&nbsp;	 * 												*
<i>260</i>&nbsp;	 * 												*
<i>261</i>&nbsp;	 ************************************************/
<i>262</i>&nbsp;
<i>263</i>&nbsp;	/**
<i>264</i>&nbsp;	 * This method checks the syntax of the command inserted by the user, and accordingly modifies CliGame state if needed, and prepares the data to send to the server
<i>265</i>&nbsp;	 * @param command represents the command inserted by the user
<i>266</i>&nbsp;	 * @return true if the command is correct
<i>267</i>&nbsp;	 */
<i>268</i>&nbsp;	private boolean parseSyntax(Command command) {
<b class="nc"><i>269</i>&nbsp;		if (command.commandType.equals(Constants.COMMAND_DISCONNECT)) {</b>
<b class="nc"><i>270</i>&nbsp;			functioning = false;</b>
<b class="nc"><i>271</i>&nbsp;			inputController.getCommand(command,phase);</b>
<b class="nc"><i>272</i>&nbsp;			return true;</b>
<i>273</i>&nbsp;		}
<i>274</i>&nbsp;
<b class="nc"><i>275</i>&nbsp;		if(command.commandType.toUpperCase().equals(&quot;HELP&quot;)){</b>
<b class="nc"><i>276</i>&nbsp;			printGuide();</b>
<b class="nc"><i>277</i>&nbsp;			printedGuide = true;</b>
<b class="nc"><i>278</i>&nbsp;			return false;</b>
<i>279</i>&nbsp;		}
<i>280</i>&nbsp;
<b class="nc"><i>281</i>&nbsp;		if(Constants.GODS_GOD_NAMES.contains(command.commandType.toUpperCase())) {</b>
<b class="nc"><i>282</i>&nbsp;			printGodGuide(command.commandType.toUpperCase());</b>
<b class="nc"><i>283</i>&nbsp;			printedGuide = true;</b>
<b class="nc"><i>284</i>&nbsp;			return false;</b>
<i>285</i>&nbsp;		}
<i>286</i>&nbsp;
<b class="nc"><i>287</i>&nbsp;		if (player.equals(activePlayer)) {</b>
<b class="nc"><i>288</i>&nbsp;			switch (phase.getPhase()) {</b>
<i>289</i>&nbsp;				//syntax: color colorname
<i>290</i>&nbsp;				case COLORS -&gt; {
<b class="nc"><i>291</i>&nbsp;					if (command.commandType.equals(Constants.COMMAND_COLOR_CHOICE) &amp;&amp; command.getNumParameters() == 1 &amp;&amp; Constants.COMMAND_COLOR_COLORS.contains(command.getParameter(0).toUpperCase())) {</b>
<b class="nc"><i>292</i>&nbsp;						return !playerColors.containsValue(new Color(command.getParameter(0)));</b>
<i>293</i>&nbsp;					}
<b class="nc"><i>294</i>&nbsp;					return false;</b>
<i>295</i>&nbsp;				}
<i>296</i>&nbsp;
<i>297</i>&nbsp;				//syntax: gods god1 god2 god3 OR god mygod
<i>298</i>&nbsp;				case GODS -&gt; {
<b class="nc"><i>299</i>&nbsp;					if (phase.getGodsPhase().equals(GodsPhase.CHALLENGER_CHOICE) &amp;&amp; challenger) {</b>
<b class="nc"><i>300</i>&nbsp;						if (command.commandType.equals(Constants.COMMAND_GODS_CHOICES) &amp;&amp; command.getNumParameters() == players.size()) {</b>
<b class="nc"><i>301</i>&nbsp;							int j = 0;</b>
<b class="nc"><i>302</i>&nbsp;							if(command.getNumParameters() == 3) {</b>
<b class="nc"><i>303</i>&nbsp;								for (int x = 0; x &lt; 3; x++) {</b>
<b class="nc"><i>304</i>&nbsp;									if (Constants.GODS_GOD_NAMES.contains(command.getParameter(x).toUpperCase())) {</b>
<b class="nc"><i>305</i>&nbsp;										j++;</b>
<i>306</i>&nbsp;									}
<i>307</i>&nbsp;								}
<i>308</i>&nbsp;							}
<b class="nc"><i>309</i>&nbsp;							else if(command.getNumParameters() == 2) {</b>
<b class="nc"><i>310</i>&nbsp;								for (int x = 0; x &lt; 2; x++) {</b>
<b class="nc"><i>311</i>&nbsp;									if (Constants.GODS_GOD_NAMES.contains(command.getParameter(x).toUpperCase())) {</b>
<b class="nc"><i>312</i>&nbsp;										j++;</b>
<i>313</i>&nbsp;									}
<i>314</i>&nbsp;								}
<i>315</i>&nbsp;							}
<b class="nc"><i>316</i>&nbsp;							return j == command.getNumParameters();</b>
<i>317</i>&nbsp;						}
<b class="nc"><i>318</i>&nbsp;					} else if (phase.getGodsPhase().equals(GodsPhase.GODS_CHOICE)) {</b>
<b class="nc"><i>319</i>&nbsp;						if (command.commandType.equals(Constants.COMMAND_GODS_CHOOSE) &amp;&amp; command.getNumParameters() == 1 &amp;&amp; Constants.GODS_GOD_NAMES.contains(command.getParameter(0).toUpperCase())) {</b>
<b class="nc"><i>320</i>&nbsp;							return gods.contains(command.getParameter(0).toUpperCase()) &amp;&amp; !chosenGods.containsValue(command.getParameter(0).toUpperCase());</b>
<i>321</i>&nbsp;						}
<b class="nc"><i>322</i>&nbsp;					} else if (phase.getGodsPhase().equals(GodsPhase.STARTER_CHOICE)) {</b>
<b class="nc"><i>323</i>&nbsp;						return command.commandType.equals(Constants.COMMAND_GODS_STARTER) &amp;&amp; command.getNumParameters() == 1 &amp;&amp; players.contains(command.getParameter(0)) &amp;&amp; challenger;</b>
<i>324</i>&nbsp;					}
<b class="nc"><i>325</i>&nbsp;					return false;</b>
<i>326</i>&nbsp;				}
<i>327</i>&nbsp;
<i>328</i>&nbsp;				//syntax check and something more: worker worker1 x_coord1 y_coord1 worker2 x_coord2 y_coord2
<i>329</i>&nbsp;				case SETUP -&gt; {
<b class="nc"><i>330</i>&nbsp;					if (command.commandType.equals(Constants.COMMAND_GAMESETUP_POSITION) &amp;&amp; command.getNumParameters() == 6 &amp;&amp; command.getParameter(0).equals(&quot;worker1&quot;) &amp;&amp; command.getParameter(3).equals(&quot;worker2&quot;)) {</b>
<b class="nc"><i>331</i>&nbsp;						for (int i = 1; i &lt; 6; i++) {</b>
<b class="nc"><i>332</i>&nbsp;							if (i != 3) {</b>
<i>333</i>&nbsp;								try{
<b class="nc"><i>334</i>&nbsp;									if (Integer.parseInt(command.getParameter(i)) &lt; 0 || Integer.parseInt(command.getParameter(i)) &gt; 4) {</b>
<b class="nc"><i>335</i>&nbsp;										return false;</b>
<i>336</i>&nbsp;									}
<b class="nc"><i>337</i>&nbsp;								} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>338</i>&nbsp;									System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>339</i>&nbsp;									return false;</b>
<b class="nc"><i>340</i>&nbsp;								}</b>
<i>341</i>&nbsp;							}
<i>342</i>&nbsp;						}
<b class="nc"><i>343</i>&nbsp;						if(netMap != null){</b>
<i>344</i>&nbsp;							try {
<b class="nc"><i>345</i>&nbsp;								if (netMap.getCell(Integer.parseInt(command.getParameter(1)), Integer.parseInt(command.getParameter(2))).worker != null || netMap.getCell(Integer.parseInt(command.getParameter(4)), Integer.parseInt(command.getParameter(5))).worker != null) {</b>
<b class="nc"><i>346</i>&nbsp;									return false;</b>
<i>347</i>&nbsp;								}
<b class="nc"><i>348</i>&nbsp;							} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>349</i>&nbsp;								nfe.printStackTrace();</b>
<b class="nc"><i>350</i>&nbsp;								return false;</b>
<b class="nc"><i>351</i>&nbsp;							}</b>
<i>352</i>&nbsp;
<i>353</i>&nbsp;						}
<b class="nc"><i>354</i>&nbsp;						return true;</b>
<i>355</i>&nbsp;					}
<b class="nc"><i>356</i>&nbsp;					return false;</b>
<i>357</i>&nbsp;				}
<i>358</i>&nbsp;
<i>359</i>&nbsp;				case PLAYERTURN -&gt; {
<b class="nc"><i>360</i>&nbsp;					switch (phase.getGamePhase()) {</b>
<i>361</i>&nbsp;						case BEFOREMOVE, BUILD -&gt; {
<i>362</i>&nbsp;
<b class="nc"><i>363</i>&nbsp;							switch(chosenGods.get(player)) {</b>
<i>364</i>&nbsp;
<i>365</i>&nbsp;								case Constants.PROMETHEUS :
<b class="nc"><i>366</i>&nbsp;									if(phase.getGamePhase() == GamePhase.BEFOREMOVE) {</b>
<b class="nc"><i>367</i>&nbsp;										if (command.commandType.equals(Constants.COMMAND_BUILD) &amp;&amp; command.getNumParameters() == 4 &amp;&amp; (command.getParameter(0).equals(&quot;worker1&quot;) || command.getParameter(0).equals(&quot;worker2&quot;)) &amp;&amp; (command.getParameter(1).equals(&quot;dome&quot;) || command.getParameter(1).equals(&quot;building&quot;))) {</b>
<i>368</i>&nbsp;											try {
<b class="nc"><i>369</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(3)) &amp;&amp; Integer.parseInt(command.getParameter(3)) &lt;= 4) {</b>
<b class="nc"><i>370</i>&nbsp;													int x1 = Integer.parseInt(command.getParameter(2));</b>
<b class="nc"><i>371</i>&nbsp;													int y1 = Integer.parseInt(command.getParameter(3));</b>
<i>372</i>&nbsp;
<b class="nc"><i>373</i>&nbsp;													if(command.getParameter(0).equals(&quot;worker1&quot;)) {</b>
<b class="nc"><i>374</i>&nbsp;														activeWorkerID = findMyWorker(1);</b>
<i>375</i>&nbsp;													} else {
<b class="nc"><i>376</i>&nbsp;														activeWorkerID = findMyWorker(2);</b>
<i>377</i>&nbsp;													}
<i>378</i>&nbsp;
<b class="nc"><i>379</i>&nbsp;													if(command.getParameter(1).equals(&quot;dome&quot;)){</b>
<b class="nc"><i>380</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, true);</b>
<b class="nc"><i>381</i>&nbsp;													} else if(command.getParameter(1).equals(&quot;building&quot;)) {</b>
<b class="nc"><i>382</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, false);</b>
<i>383</i>&nbsp;													}
<b class="nc"><i>384</i>&nbsp;													if(netBuilds.contains(selectedBuild)) {</b>
<b class="nc"><i>385</i>&nbsp;														hasBuiltBefore = true;</b>
<b class="nc"><i>386</i>&nbsp;														return true;</b>
<i>387</i>&nbsp;													}
<i>388</i>&nbsp;												}
<b class="nc"><i>389</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>390</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>391</i>&nbsp;												return false;</b>
<b class="nc"><i>392</i>&nbsp;											}</b>
<b class="nc"><i>393</i>&nbsp;										} else if (command.commandType.equals(Constants.COMMAND_MOVE) &amp;&amp; command.getNumParameters() == 3 &amp;&amp; (command.getParameter(0).equals(&quot;worker1&quot;) || command.getParameter(0).equals(&quot;worker2&quot;))) {</b>
<i>394</i>&nbsp;											try {
<b class="nc"><i>395</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>396</i>&nbsp;													if(command.getParameter(0).equals(&quot;worker1&quot;)){</b>
<b class="nc"><i>397</i>&nbsp;														selectedMove = new NetMove(findMyWorker(1), Integer.parseInt(command.getParameter(1)), Integer.parseInt(command.getParameter(2)));</b>
<b class="nc"><i>398</i>&nbsp;													} else if (command.getParameter(0).equals(&quot;worker2&quot;)){</b>
<b class="nc"><i>399</i>&nbsp;														selectedMove = new NetMove(findMyWorker(2), Integer.parseInt(command.getParameter(1)), Integer.parseInt(command.getParameter(2)));</b>
<i>400</i>&nbsp;													}
<b class="nc"><i>401</i>&nbsp;													if(netMoves.contains(selectedMove)) {</b>
<b class="nc"><i>402</i>&nbsp;														activeWorkerID = selectedMove.workerID;</b>
<b class="nc"><i>403</i>&nbsp;														return true;</b>
<i>404</i>&nbsp;													}
<i>405</i>&nbsp;												}
<b class="nc"><i>406</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>407</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>408</i>&nbsp;												return false;</b>
<b class="nc"><i>409</i>&nbsp;											}</b>
<i>410</i>&nbsp;										}
<b class="nc"><i>411</i>&nbsp;										return false;</b>
<b class="nc"><i>412</i>&nbsp;									} else if(phase.getGamePhase() == GamePhase.BUILD) {</b>
<b class="nc"><i>413</i>&nbsp;										if (command.commandType.equals(Constants.COMMAND_BUILD) &amp;&amp; command.getNumParameters() == 3 &amp;&amp; (command.getParameter(0).equals(&quot;dome&quot;) || command.getParameter(0).equals(&quot;building&quot;))) {</b>
<i>414</i>&nbsp;											try {
<b class="nc"><i>415</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>416</i>&nbsp;													int x1 = Integer.parseInt(command.getParameter(1));</b>
<b class="nc"><i>417</i>&nbsp;													int y1 = Integer.parseInt(command.getParameter(2));</b>
<b class="nc"><i>418</i>&nbsp;													if(command.getParameter(0).equals(&quot;dome&quot;)){</b>
<b class="nc"><i>419</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, true);</b>
<b class="nc"><i>420</i>&nbsp;													} else if(command.getParameter(0).equals(&quot;building&quot;)) {</b>
<b class="nc"><i>421</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, false);</b>
<i>422</i>&nbsp;													}
<b class="nc"><i>423</i>&nbsp;													if(netBuilds.contains(selectedBuild)) {</b>
<b class="nc"><i>424</i>&nbsp;														return true;</b>
<i>425</i>&nbsp;													}
<i>426</i>&nbsp;												}
<b class="nc"><i>427</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>428</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>429</i>&nbsp;												return false;</b>
<b class="nc"><i>430</i>&nbsp;											}</b>
<i>431</i>&nbsp;										}
<b class="nc"><i>432</i>&nbsp;										return false;</b>
<i>433</i>&nbsp;									}
<i>434</i>&nbsp;
<i>435</i>&nbsp;								case Constants.DEMETER :	//only syntax: build dome/building x_coord y_coord (dome/building x_coord y_coord)
<b class="nc"><i>436</i>&nbsp;									if (command.commandType.equals(Constants.COMMAND_BUILD)) {</b>
<b class="nc"><i>437</i>&nbsp;										if (command.getNumParameters() == 6 &amp;&amp; (command.getParameter(0).equals(&quot;dome&quot;) || command.getParameter(0).equals(&quot;building&quot;)) &amp;&amp; (command.getParameter(3).equals(&quot;dome&quot;) || command.getParameter(3).equals(&quot;building&quot;))) {</b>
<i>438</i>&nbsp;											try {
<b class="nc"><i>439</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>440</i>&nbsp;													if(0 &lt;= Integer.parseInt(command.getParameter(4)) &amp;&amp; Integer.parseInt(command.getParameter(4)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(5)) &amp;&amp; Integer.parseInt(command.getParameter(5)) &lt;= 4) {</b>
<b class="nc"><i>441</i>&nbsp;														int x1 = Integer.parseInt(command.getParameter(1));</b>
<b class="nc"><i>442</i>&nbsp;														int y1 = Integer.parseInt(command.getParameter(2));</b>
<b class="nc"><i>443</i>&nbsp;														int x2 = Integer.parseInt(command.getParameter(4));</b>
<b class="nc"><i>444</i>&nbsp;														int y2 = Integer.parseInt(command.getParameter(5));</b>
<i>445</i>&nbsp;
<b class="nc"><i>446</i>&nbsp;														if(command.getParameter(0).equals(&quot;dome&quot;)){</b>
<b class="nc"><i>447</i>&nbsp;															if(command.getParameter(3).equals(&quot;dome&quot;)) {</b>
<b class="nc"><i>448</i>&nbsp;																selectedBuild = new NetBuild(activeWorkerID, x2, y2, netMap.getCell(x2,y2).building.level, true);	//second Build</b>
<i>449</i>&nbsp;															} else {
<b class="nc"><i>450</i>&nbsp;																selectedBuild = new NetBuild(activeWorkerID, x2, y2, netMap.getCell(x2,y2).building.level, false);	//second Build</b>
<i>451</i>&nbsp;															}
<b class="nc"><i>452</i>&nbsp;															selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, true, selectedBuild);	//first Build</b>
<b class="nc"><i>453</i>&nbsp;														} else if(command.getParameter(0).equals(&quot;building&quot;)) {</b>
<b class="nc"><i>454</i>&nbsp;															if(command.getParameter(3).equals(&quot;dome&quot;)) {</b>
<b class="nc"><i>455</i>&nbsp;																selectedBuild = new NetBuild(activeWorkerID, x2, y2, netMap.getCell(x2,y2).building.level, true);	//second Build</b>
<i>456</i>&nbsp;															} else {
<b class="nc"><i>457</i>&nbsp;																selectedBuild = new NetBuild(activeWorkerID, x2, y2, netMap.getCell(x2,y2).building.level, false);	//second Build</b>
<i>458</i>&nbsp;															}
<b class="nc"><i>459</i>&nbsp;															selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, false, selectedBuild);	//first Build</b>
<i>460</i>&nbsp;														}
<b class="nc"><i>461</i>&nbsp;														if(netBuilds.contains(selectedBuild)) {</b>
<b class="nc"><i>462</i>&nbsp;															return true;</b>
<i>463</i>&nbsp;														}
<i>464</i>&nbsp;													}
<i>465</i>&nbsp;												}
<b class="nc"><i>466</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>467</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>468</i>&nbsp;												return false;</b>
<b class="nc"><i>469</i>&nbsp;											}</b>
<b class="nc"><i>470</i>&nbsp;										} else if (command.getNumParameters() == 3 &amp;&amp; (command.getParameter(0).equals(&quot;dome&quot;) || command.getParameter(0).equals(&quot;building&quot;))) {</b>
<i>471</i>&nbsp;											try {
<b class="nc"><i>472</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>473</i>&nbsp;													int x1 = Integer.parseInt(command.getParameter(1));</b>
<b class="nc"><i>474</i>&nbsp;													int y1 = Integer.parseInt(command.getParameter(2));</b>
<b class="nc"><i>475</i>&nbsp;													if(command.getParameter(0).equals(&quot;dome&quot;)){</b>
<b class="nc"><i>476</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, true);</b>
<b class="nc"><i>477</i>&nbsp;													} else if(command.getParameter(0).equals(&quot;building&quot;)) {</b>
<b class="nc"><i>478</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, false);</b>
<i>479</i>&nbsp;													}
<b class="nc"><i>480</i>&nbsp;													if(netBuilds.contains(selectedBuild)) {</b>
<b class="nc"><i>481</i>&nbsp;														return true;</b>
<i>482</i>&nbsp;													}
<i>483</i>&nbsp;												}
<b class="nc"><i>484</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>485</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>486</i>&nbsp;												return false;</b>
<b class="nc"><i>487</i>&nbsp;											}</b>
<i>488</i>&nbsp;										}
<i>489</i>&nbsp;									}
<b class="nc"><i>490</i>&nbsp;									return false;</b>
<i>491</i>&nbsp;
<i>492</i>&nbsp;								case Constants.HEPHAESTUS :	//only syntax: build dome/building x_coord y_coord (double)
<b class="nc"><i>493</i>&nbsp;									if(command.commandType.equals(Constants.COMMAND_BUILD)) {</b>
<b class="nc"><i>494</i>&nbsp;										if (command.getNumParameters() == 4 &amp;&amp; (command.getParameter(0).equals(&quot;dome&quot;) || command.getParameter(0).equals(&quot;building&quot;)) &amp;&amp; (command.getParameter(3).equals(&quot;double&quot;))) {</b>
<i>495</i>&nbsp;											try {
<b class="nc"><i>496</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>497</i>&nbsp;													int x1 = Integer.parseInt(command.getParameter(1));</b>
<b class="nc"><i>498</i>&nbsp;													int y1 = Integer.parseInt(command.getParameter(2));</b>
<i>499</i>&nbsp;
<b class="nc"><i>500</i>&nbsp;													if(command.getParameter(0).equals(&quot;dome&quot;)){</b>
<b class="nc"><i>501</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level + 1, true);	//second Build</b>
<b class="nc"><i>502</i>&nbsp;													} else if(command.getParameter(0).equals(&quot;building&quot;)) {</b>
<b class="nc"><i>503</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level + 1, false);	//second Build</b>
<i>504</i>&nbsp;													}
<b class="nc"><i>505</i>&nbsp;													selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, false, selectedBuild);	//first Build</b>
<i>506</i>&nbsp;
<b class="nc"><i>507</i>&nbsp;													if(netBuilds.contains(selectedBuild)) {</b>
<b class="nc"><i>508</i>&nbsp;														return true;</b>
<i>509</i>&nbsp;													}
<i>510</i>&nbsp;												}
<b class="nc"><i>511</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>512</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>513</i>&nbsp;												return false;</b>
<b class="nc"><i>514</i>&nbsp;											}</b>
<b class="nc"><i>515</i>&nbsp;										} else if (command.getNumParameters() == 3 &amp;&amp; (command.getParameter(0).equals(&quot;dome&quot;) || command.getParameter(0).equals(&quot;building&quot;))) {</b>
<i>516</i>&nbsp;											try {
<b class="nc"><i>517</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>518</i>&nbsp;													int x1 = Integer.parseInt(command.getParameter(1));</b>
<b class="nc"><i>519</i>&nbsp;													int y1 = Integer.parseInt(command.getParameter(2));</b>
<b class="nc"><i>520</i>&nbsp;													if(command.getParameter(0).equals(&quot;dome&quot;)){</b>
<b class="nc"><i>521</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, true);</b>
<b class="nc"><i>522</i>&nbsp;													} else if(command.getParameter(0).equals(&quot;building&quot;)) {</b>
<b class="nc"><i>523</i>&nbsp;														selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, false);</b>
<i>524</i>&nbsp;													}
<b class="nc"><i>525</i>&nbsp;													if(netBuilds.contains(selectedBuild)) {</b>
<b class="nc"><i>526</i>&nbsp;														return true;</b>
<i>527</i>&nbsp;													}
<i>528</i>&nbsp;												}
<b class="nc"><i>529</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>530</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>531</i>&nbsp;												return false;</b>
<b class="nc"><i>532</i>&nbsp;											}</b>
<i>533</i>&nbsp;										}
<i>534</i>&nbsp;									}
<b class="nc"><i>535</i>&nbsp;									return false;</b>
<i>536</i>&nbsp;
<i>537</i>&nbsp;								default :	//only syntax: build dome/building x_coord y_coord   (previous: build workerX dome/building level x_coord y_coord)
<b class="nc"><i>538</i>&nbsp;									if (command.commandType.equals(Constants.COMMAND_BUILD) &amp;&amp; command.getNumParameters() == 3 &amp;&amp; (command.getParameter(0).equals(&quot;dome&quot;) || command.getParameter(0).equals(&quot;building&quot;))) {</b>
<i>539</i>&nbsp;										try {
<b class="nc"><i>540</i>&nbsp;											if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>541</i>&nbsp;												int x1 = Integer.parseInt(command.getParameter(1));</b>
<b class="nc"><i>542</i>&nbsp;												int y1 = Integer.parseInt(command.getParameter(2));</b>
<b class="nc"><i>543</i>&nbsp;												if(command.getParameter(0).equals(&quot;dome&quot;)){</b>
<b class="nc"><i>544</i>&nbsp;													selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, true);</b>
<b class="nc"><i>545</i>&nbsp;												} else if(command.getParameter(0).equals(&quot;building&quot;)) {</b>
<b class="nc"><i>546</i>&nbsp;													selectedBuild = new NetBuild(activeWorkerID, x1, y1, netMap.getCell(x1,y1).building.level, false);</b>
<i>547</i>&nbsp;												}
<b class="nc"><i>548</i>&nbsp;												if(netBuilds.contains(selectedBuild)) {</b>
<b class="nc"><i>549</i>&nbsp;													return true;</b>
<i>550</i>&nbsp;												}
<i>551</i>&nbsp;											}
<b class="nc"><i>552</i>&nbsp;										} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>553</i>&nbsp;											System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>554</i>&nbsp;											return false;</b>
<b class="nc"><i>555</i>&nbsp;										}</b>
<i>556</i>&nbsp;									}
<b class="nc"><i>557</i>&nbsp;									return false;</b>
<i>558</i>&nbsp;							}
<i>559</i>&nbsp;						}
<i>560</i>&nbsp;
<i>561</i>&nbsp;						//only syntax: move workerX x_coord y_coord
<i>562</i>&nbsp;						case MOVE -&gt; {
<b class="nc"><i>563</i>&nbsp;							if (command.commandType.equals(Constants.COMMAND_MOVE)) {</b>
<i>564</i>&nbsp;
<b class="nc"><i>565</i>&nbsp;								switch(chosenGods.get(player)) {</b>
<i>566</i>&nbsp;
<i>567</i>&nbsp;									case Constants.APOLLO, Constants.MINOTAUR :
<b class="nc"><i>568</i>&nbsp;										if (command.getNumParameters() == 3 &amp;&amp; (command.getParameter(0).equals(&quot;worker1&quot;) || command.getParameter(0).equals(&quot;worker2&quot;))) {</b>
<i>569</i>&nbsp;											try {
<b class="nc"><i>570</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>571</i>&nbsp;													if(command.getParameter(0).equals(&quot;worker1&quot;)){</b>
<b class="nc"><i>572</i>&nbsp;														selectedMove = new NetMove(findMyWorker(1), Integer.parseInt(command.getParameter(1)), Integer.parseInt(command.getParameter(2)));</b>
<b class="nc"><i>573</i>&nbsp;													} else if (command.getParameter(0).equals(&quot;worker2&quot;)){</b>
<b class="nc"><i>574</i>&nbsp;														selectedMove = new NetMove(findMyWorker(2), Integer.parseInt(command.getParameter(1)), Integer.parseInt(command.getParameter(2)));</b>
<i>575</i>&nbsp;													}
<b class="nc"><i>576</i>&nbsp;													for(NetMove netM : netMoves) {</b>
<b class="nc"><i>577</i>&nbsp;														if(netM.isLike(selectedMove)){</b>
<b class="nc"><i>578</i>&nbsp;															selectedMove = netM;</b>
<b class="nc"><i>579</i>&nbsp;															activeWorkerID = netM.workerID;</b>
<b class="nc"><i>580</i>&nbsp;															return true;</b>
<i>581</i>&nbsp;														}
<b class="nc"><i>582</i>&nbsp;													}</b>
<i>583</i>&nbsp;												}
<b class="nc"><i>584</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>585</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>586</i>&nbsp;												return false;</b>
<b class="nc"><i>587</i>&nbsp;											}</b>
<i>588</i>&nbsp;										}
<b class="nc"><i>589</i>&nbsp;										return false;</b>
<i>590</i>&nbsp;
<i>591</i>&nbsp;									default :
<b class="nc"><i>592</i>&nbsp;										if (command.getNumParameters() == 3 &amp;&amp; (command.getParameter(0).equals(&quot;worker1&quot;) || command.getParameter(0).equals(&quot;worker2&quot;))) {</b>
<i>593</i>&nbsp;											try {
<b class="nc"><i>594</i>&nbsp;												if (0 &lt;= Integer.parseInt(command.getParameter(1)) &amp;&amp; Integer.parseInt(command.getParameter(1)) &lt;= 4 &amp;&amp; 0 &lt;= Integer.parseInt(command.getParameter(2)) &amp;&amp; Integer.parseInt(command.getParameter(2)) &lt;= 4) {</b>
<b class="nc"><i>595</i>&nbsp;													if(!(chosenGods.get(player).equals(Constants.PROMETHEUS) &amp;&amp; hasBuiltBefore)) {	//used for prometheus</b>
<b class="nc"><i>596</i>&nbsp;														if(command.getParameter(0).equals(&quot;worker1&quot;)){</b>
<b class="nc"><i>597</i>&nbsp;															activeWorkerID = findMyWorker(1);</b>
<b class="nc"><i>598</i>&nbsp;														} else if (command.getParameter(0).equals(&quot;worker2&quot;)){</b>
<b class="nc"><i>599</i>&nbsp;															activeWorkerID = findMyWorker(2);</b>
<i>600</i>&nbsp;														}
<i>601</i>&nbsp;													}
<b class="nc"><i>602</i>&nbsp;													hasBuiltBefore = false;</b>
<b class="nc"><i>603</i>&nbsp;													selectedMove = new NetMove(activeWorkerID, Integer.parseInt(command.getParameter(1)), Integer.parseInt(command.getParameter(2)));</b>
<b class="nc"><i>604</i>&nbsp;													if(netMoves.contains(selectedMove)) {</b>
<b class="nc"><i>605</i>&nbsp;														activeWorkerID = selectedMove.workerID;</b>
<b class="nc"><i>606</i>&nbsp;														return true;</b>
<i>607</i>&nbsp;													}
<i>608</i>&nbsp;												}
<b class="nc"><i>609</i>&nbsp;											} catch (NumberFormatException nfe) {</b>
<b class="nc"><i>610</i>&nbsp;												System.out.println(&quot;You didn&#39;t insert a correct number&quot;);</b>
<b class="nc"><i>611</i>&nbsp;												return false;</b>
<b class="nc"><i>612</i>&nbsp;											}</b>
<i>613</i>&nbsp;										}
<b class="nc"><i>614</i>&nbsp;										return false;</b>
<i>615</i>&nbsp;
<i>616</i>&nbsp;								}
<i>617</i>&nbsp;							}
<b class="nc"><i>618</i>&nbsp;							return false;</b>
<i>619</i>&nbsp;						}
<i>620</i>&nbsp;					}
<i>621</i>&nbsp;				}
<i>622</i>&nbsp;			}
<i>623</i>&nbsp;		}
<b class="nc"><i>624</i>&nbsp;		return false;</b>
<i>625</i>&nbsp;	}
<i>626</i>&nbsp;
<i>627</i>&nbsp;	/**
<i>628</i>&nbsp;	 * This method cycles over every message in deque: when the parsing is done, the message is deleted
<i>629</i>&nbsp;	 */
<i>630</i>&nbsp;	private void parseMessages(){
<b class="nc"><i>631</i>&nbsp;		while(messages.size() != 0/* &amp;&amp; functioning*/){</b>
<b class="nc"><i>632</i>&nbsp;			parseMessage(messages.getFirst());</b>
<b class="nc"><i>633</i>&nbsp;			messages.remove();</b>
<i>634</i>&nbsp;		}
<b class="nc"><i>635</i>&nbsp;		oldNetMap = netMap;</b>
<i>636</i>&nbsp;	}
<i>637</i>&nbsp;
<i>638</i>&nbsp;	/**
<i>639</i>&nbsp;	 * This method parses the messages sent by the server and stored in the the deque according to the particular gamephase in which the state is. Some messages have to be parsed anyway
<i>640</i>&nbsp;	 * @param obj the message in the deque
<i>641</i>&nbsp;	 */
<i>642</i>&nbsp;	private void parseMessage(NetObject obj){
<b class="nc"><i>643</i>&nbsp;		if (obj.message.equals(Constants.GENERAL_FATAL_ERROR) || obj.message.equals(Constants.GENERAL_SETUP_DISCONNECT)) {</b>
<b class="nc"><i>644</i>&nbsp;			printServerError(obj);</b>
<b class="nc"><i>645</i>&nbsp;			functioning = false;</b>
<i>646</i>&nbsp;		} else {
<b class="nc"><i>647</i>&nbsp;			switch (phase.getPhase()) {</b>
<i>648</i>&nbsp;				case COLORS:
<b class="nc"><i>649</i>&nbsp;					parseColors(obj);</b>
<b class="nc"><i>650</i>&nbsp;					break;</b>
<i>651</i>&nbsp;
<i>652</i>&nbsp;				case GODS:
<b class="nc"><i>653</i>&nbsp;					parseGods(obj);</b>
<b class="nc"><i>654</i>&nbsp;					break;</b>
<i>655</i>&nbsp;
<i>656</i>&nbsp;				case SETUP:
<b class="nc"><i>657</i>&nbsp;					parseSetup(obj);</b>
<b class="nc"><i>658</i>&nbsp;					break;</b>
<i>659</i>&nbsp;
<i>660</i>&nbsp;				case PLAYERTURN:
<b class="nc"><i>661</i>&nbsp;					parsePlayerTurn(obj);</b>
<i>662</i>&nbsp;					break;
<i>663</i>&nbsp;			}
<i>664</i>&nbsp;		}
<i>665</i>&nbsp;
<b class="nc"><i>666</i>&nbsp;		parseOther(obj);</b>
<i>667</i>&nbsp;	}
<i>668</i>&nbsp;
<i>669</i>&nbsp;	/**
<i>670</i>&nbsp;	 * This method parses the messages in the color phase, casting the NetObject to a NetColorPreparation, and modifying the state of the class according to the message type
<i>671</i>&nbsp;	 * @param obj the message in the deque
<i>672</i>&nbsp;	 */
<i>673</i>&nbsp;	private void parseColors(NetObject obj) {
<b class="nc"><i>674</i>&nbsp;		NetColorPreparation ncp = (NetColorPreparation) obj;</b>
<b class="nc"><i>675</i>&nbsp;		switch (obj.message) {</b>
<i>676</i>&nbsp;			//COLORS
<b class="nc"><i>677</i>&nbsp;			case Constants.TURN_PLAYERTURN -&gt; {</b>
<b class="nc"><i>678</i>&nbsp;				activePlayer = ncp.player;</b>
<b class="nc"><i>679</i>&nbsp;				printInput = true;</b>
<i>680</i>&nbsp;			}
<i>681</i>&nbsp;
<b class="nc"><i>682</i>&nbsp;			case Constants.COLOR_ERROR -&gt; {</b>
<b class="nc"><i>683</i>&nbsp;				System.out.println(&quot;The color is not available or the syntax was wrong.&quot;);</b>
<i>684</i>&nbsp;			}
<i>685</i>&nbsp;
<i>686</i>&nbsp;			case Constants.COLOR_CHOICES -&gt; {
<b class="nc"><i>687</i>&nbsp;				playerColors.clear();</b>
<b class="nc"><i>688</i>&nbsp;				while(ncp != null) {</b>
<b class="nc"><i>689</i>&nbsp;					playerColors.put(ncp.player, ncp.color);</b>
<b class="nc"><i>690</i>&nbsp;					ncp = ncp.next;</b>
<i>691</i>&nbsp;				}
<i>692</i>&nbsp;			}
<i>693</i>&nbsp;
<i>694</i>&nbsp;			case Constants.GENERAL_SETUP_DISCONNECT -&gt; {
<b class="nc"><i>695</i>&nbsp;				functioning = false;</b>
<b class="nc"><i>696</i>&nbsp;				printServerError(obj);</b>
<i>697</i>&nbsp;			}
<i>698</i>&nbsp;		}
<i>699</i>&nbsp;	}
<i>700</i>&nbsp;
<i>701</i>&nbsp;	/**
<i>702</i>&nbsp;	 * This method parses the messages in the gods phase, casting the NetObject to a NetDivinityChoice, and modifying the state of the class according to the message type
<i>703</i>&nbsp;	 * @param obj the message in the deque
<i>704</i>&nbsp;	 */
<i>705</i>&nbsp;	private void parseGods(NetObject obj){
<b class="nc"><i>706</i>&nbsp;		NetDivinityChoice ndc = (NetDivinityChoice) obj;</b>
<b class="nc"><i>707</i>&nbsp;		switch (ndc.message) {</b>
<i>708</i>&nbsp;			//GODS
<i>709</i>&nbsp;			case Constants.GODS_CHALLENGER -&gt; {
<b class="nc"><i>710</i>&nbsp;				if(player.equals(ndc.player)){</b>
<b class="nc"><i>711</i>&nbsp;					challenger = true;</b>
<i>712</i>&nbsp;				}
<i>713</i>&nbsp;			}
<i>714</i>&nbsp;
<b class="nc"><i>715</i>&nbsp;			case Constants.GODS_STARTER -&gt; {</b>
<b class="nc"><i>716</i>&nbsp;				starter = ndc.player;</b>
<b class="nc"><i>717</i>&nbsp;				activePlayer = players.get(players.indexOf(ndc.player));</b>
<b class="nc"><i>718</i>&nbsp;				System.out.println(&quot;This is the player who is going to start the game: &quot; + starter);</b>
<i>719</i>&nbsp;			}
<i>720</i>&nbsp;
<b class="nc"><i>721</i>&nbsp;			case Constants.TURN_PLAYERTURN -&gt; {</b>
<b class="nc"><i>722</i>&nbsp;				activePlayer = ndc.player;</b>
<b class="nc"><i>723</i>&nbsp;				printInput = true;</b>
<i>724</i>&nbsp;			}
<i>725</i>&nbsp;
<b class="nc"><i>726</i>&nbsp;			case Constants.GODS_GODS -&gt; {</b>
<b class="nc"><i>727</i>&nbsp;				gods.addAll(ndc.getDivinities());</b>
<i>728</i>&nbsp;				//System.out.println(&quot;Just added players&#39; divinities.&quot;);
<i>729</i>&nbsp;			}
<i>730</i>&nbsp;
<b class="nc"><i>731</i>&nbsp;			case Constants.GODS_ERROR -&gt; {</b>
<b class="nc"><i>732</i>&nbsp;				System.out.println(&quot;An error occurred while choosing the god.&quot;);</b>
<i>733</i>&nbsp;			}
<i>734</i>&nbsp;
<i>735</i>&nbsp;			case Constants.GODS_CHOICES -&gt; {
<b class="nc"><i>736</i>&nbsp;				chosenGods.clear();</b>
<b class="nc"><i>737</i>&nbsp;				while(ndc != null) {</b>
<b class="nc"><i>738</i>&nbsp;					chosenGods.put(ndc.player, ndc.divinity);</b>
<b class="nc"><i>739</i>&nbsp;					ndc = ndc.next;</b>
<i>740</i>&nbsp;				}
<i>741</i>&nbsp;			}
<i>742</i>&nbsp;
<i>743</i>&nbsp;			case Constants.GENERAL_SETUP_DISCONNECT -&gt; {
<b class="nc"><i>744</i>&nbsp;				functioning = false;</b>
<b class="nc"><i>745</i>&nbsp;				printServerError(obj);</b>
<i>746</i>&nbsp;			}
<i>747</i>&nbsp;		}
<i>748</i>&nbsp;	}
<i>749</i>&nbsp;
<i>750</i>&nbsp;	/**
<i>751</i>&nbsp;	 * This method parses the messages in the setup phase, casting the NetObject to a NetGameSetup, and modifying the state of the class according to the message type
<i>752</i>&nbsp;	 * @param obj the message in the deque
<i>753</i>&nbsp;	 */
<i>754</i>&nbsp;	private void parseSetup(NetObject obj){
<b class="nc"><i>755</i>&nbsp;		NetGameSetup ngs = (NetGameSetup)obj;</b>
<b class="nc"><i>756</i>&nbsp;		switch (obj.message) {</b>
<i>757</i>&nbsp;			//SETUP [WORKERS ON MAP]
<b class="nc"><i>758</i>&nbsp;			case Constants.TURN_PLAYERTURN -&gt; {</b>
<b class="nc"><i>759</i>&nbsp;				activePlayer = ngs.player;</b>
<b class="nc"><i>760</i>&nbsp;				printInput = true;</b>
<i>761</i>&nbsp;			}
<i>762</i>&nbsp;
<b class="nc"><i>763</i>&nbsp;			case Constants.GAMESETUP_ERROR -&gt; {</b>
<b class="nc"><i>764</i>&nbsp;				System.out.println(&quot;An error occurred while positioning the workers.&quot;);</b>
<i>765</i>&nbsp;			}
<i>766</i>&nbsp;
<i>767</i>&nbsp;			case Constants.GENERAL_SETUP_DISCONNECT -&gt; {
<b class="nc"><i>768</i>&nbsp;				functioning = false;</b>
<b class="nc"><i>769</i>&nbsp;				printServerError(obj);</b>
<i>770</i>&nbsp;			}
<i>771</i>&nbsp;		}
<i>772</i>&nbsp;	}
<i>773</i>&nbsp;
<i>774</i>&nbsp;	/**
<i>775</i>&nbsp;	 * This method parses the messages in the playerturn phase, casting the NetObject to a NetGaming, and modifying the state of the class according to the message type
<i>776</i>&nbsp;	 * @param obj the message in the deque
<i>777</i>&nbsp;	 */
<i>778</i>&nbsp;	private void parsePlayerTurn(NetObject obj){
<b class="nc"><i>779</i>&nbsp;		NetGaming ng = (NetGaming) obj;</b>
<b class="nc"><i>780</i>&nbsp;		switch (obj.message) {</b>
<i>781</i>&nbsp;			//ACTUAL GAME
<b class="nc"><i>782</i>&nbsp;			case Constants.PLAYER_ERROR -&gt; {</b>
<b class="nc"><i>783</i>&nbsp;				System.out.println(&quot;The message sent is not correct.&quot;);</b>
<i>784</i>&nbsp;			}
<i>785</i>&nbsp;
<b class="nc"><i>786</i>&nbsp;			case Constants.TURN_PLAYERTURN -&gt; {</b>
<b class="nc"><i>787</i>&nbsp;				activePlayer = ng.player;</b>
<i>788</i>&nbsp;			}
<i>789</i>&nbsp;
<b class="nc"><i>790</i>&nbsp;			case Constants.PLAYER_ACTIONS -&gt; {</b>
<b class="nc"><i>791</i>&nbsp;				if (activePlayer.equals(player)) {</b>
<b class="nc"><i>792</i>&nbsp;					switch (phase.getGamePhase()) {</b>
<i>793</i>&nbsp;						case BEFOREMOVE -&gt; {
<b class="nc"><i>794</i>&nbsp;							if(chosenGods.containsValue(&quot;PROMETHEUS&quot;)) {</b>
<b class="nc"><i>795</i>&nbsp;								if(chosenGods.get(player).equals(&quot;PROMETHEUS&quot;)) {</b>
<b class="nc"><i>796</i>&nbsp;									ng = (NetGaming) obj;</b>
<b class="nc"><i>797</i>&nbsp;									netBuilds = ng.availableBuildings.builds;</b>
<b class="nc"><i>798</i>&nbsp;									netMoves = ng.availablePositions.moves;</b>
<i>799</i>&nbsp;								}
<i>800</i>&nbsp;							}
<i>801</i>&nbsp;						}
<b class="nc"><i>802</i>&nbsp;						case MOVE -&gt; {</b>
<b class="nc"><i>803</i>&nbsp;							ng = (NetGaming) obj;</b>
<b class="nc"><i>804</i>&nbsp;							netMoves = ng.availablePositions.moves;</b>
<i>805</i>&nbsp;						}
<i>806</i>&nbsp;						case BUILD -&gt; {
<b class="nc"><i>807</i>&nbsp;							ng = (NetGaming) obj;</b>
<b class="nc"><i>808</i>&nbsp;							netBuilds = ng.availableBuildings.builds;</b>
<i>809</i>&nbsp;						}
<i>810</i>&nbsp;					}
<i>811</i>&nbsp;				}
<b class="nc"><i>812</i>&nbsp;				printInput = true;</b>
<i>813</i>&nbsp;			}
<i>814</i>&nbsp;
<i>815</i>&nbsp;			case Constants.OTHERS_ERROR -&gt; {
<b class="nc"><i>816</i>&nbsp;				System.out.println(&quot;An error occurred while running another player&#39;s turn.&quot;);</b>
<i>817</i>&nbsp;			}
<i>818</i>&nbsp;		}
<i>819</i>&nbsp;	}
<i>820</i>&nbsp;
<i>821</i>&nbsp;	/**
<i>822</i>&nbsp;	 * This method parses the generic messages, casting the NetObject to a NetGameSetup or a NetGaming based on the message itself, and modifying the state of the class according to the message type
<i>823</i>&nbsp;	 * @param obj the message in the deque
<i>824</i>&nbsp;	 */
<i>825</i>&nbsp;	private void parseOther(NetObject obj) {
<i>826</i>&nbsp;		NetGaming ng;
<i>827</i>&nbsp;		NetGameSetup ngs;
<b class="nc"><i>828</i>&nbsp;		switch (obj.message) {</b>
<i>829</i>&nbsp;			//GENERAL SIGNALS
<i>830</i>&nbsp;			case Constants.GENERAL_ERROR:
<b class="nc"><i>831</i>&nbsp;				System.out.println(&quot;An error occurred while inserting the data.&quot;);</b>
<b class="nc"><i>832</i>&nbsp;				break;</b>
<i>833</i>&nbsp;
<i>834</i>&nbsp;			case Constants.GENERAL_PLAYER_DISCONNECTED:
<b class="nc"><i>835</i>&nbsp;				ng = (NetGaming) obj;</b>
<b class="nc"><i>836</i>&nbsp;				System.out.println(ng.player + &quot; just disconnected.&quot;);</b>
<b class="nc"><i>837</i>&nbsp;				if(players.contains(ng.player)) {</b>
<b class="nc"><i>838</i>&nbsp;					functioning = false;</b>
<i>839</i>&nbsp;				}
<i>840</i>&nbsp;				break;
<i>841</i>&nbsp;
<i>842</i>&nbsp;			case Constants.GENERAL_WINNER:
<b class="nc"><i>843</i>&nbsp;				ng = (NetGaming) obj;</b>
<b class="nc"><i>844</i>&nbsp;				for (String p : players) {</b>
<b class="nc"><i>845</i>&nbsp;					if (ng.player != null &amp;&amp; ng.player.equals(p) &amp;&amp; !player.equals(ng.player)) {</b>
<b class="nc"><i>846</i>&nbsp;						System.out.println(ng.player + &quot; just won the game!&quot;);</b>
<b class="nc"><i>847</i>&nbsp;						break;</b>
<i>848</i>&nbsp;					}
<b class="nc"><i>849</i>&nbsp;				}</b>
<b class="nc"><i>850</i>&nbsp;				if(player.equals(ng.player)){</b>
<b class="nc"><i>851</i>&nbsp;					printVictory();</b>
<i>852</i>&nbsp;				}
<b class="nc"><i>853</i>&nbsp;				functioning = false;</b>
<b class="nc"><i>854</i>&nbsp;				break;</b>
<i>855</i>&nbsp;
<i>856</i>&nbsp;			case Constants.GENERAL_DEFEATED:
<b class="nc"><i>857</i>&nbsp;				ng = (NetGaming) obj;</b>
<b class="nc"><i>858</i>&nbsp;				for (String p : players) {</b>
<b class="nc"><i>859</i>&nbsp;					if (ng.player != null &amp;&amp; ng.player.equals(p) &amp;&amp; !player.equals(ng.player)) {</b>
<b class="nc"><i>860</i>&nbsp;						System.out.println(ng.player + &quot; just lost&quot;);</b>
<b class="nc"><i>861</i>&nbsp;						break;</b>
<i>862</i>&nbsp;					}
<b class="nc"><i>863</i>&nbsp;				}</b>
<b class="nc"><i>864</i>&nbsp;				if(player.equals(ng.player)){</b>
<b class="nc"><i>865</i>&nbsp;					System.out.println(&quot;You lost the game:(&quot;);</b>
<i>866</i>&nbsp;				}
<b class="nc"><i>867</i>&nbsp;				if(players.size() == 3) {</b>
<b class="nc"><i>868</i>&nbsp;					playerColors.remove(ng.player);</b>
<b class="nc"><i>869</i>&nbsp;					gods.remove(chosenGods.get(ng.player));</b>
<b class="nc"><i>870</i>&nbsp;					chosenGods.remove(ng.player);</b>
<b class="nc"><i>871</i>&nbsp;					players.remove(ng.player);</b>
<i>872</i>&nbsp;				}
<i>873</i>&nbsp;
<i>874</i>&nbsp;				//functioning = false;
<i>875</i>&nbsp;				break;
<i>876</i>&nbsp;
<i>877</i>&nbsp;			case Constants.GENERAL_GAMEMAP_UPDATE:
<b class="nc"><i>878</i>&nbsp;				if (phase.getPhase() == Phase.SETUP) {</b>
<b class="nc"><i>879</i>&nbsp;					ngs = (NetGameSetup) obj;</b>
<b class="nc"><i>880</i>&nbsp;					this.netMap = ngs.gameMap;</b>
<b class="nc"><i>881</i>&nbsp;					System.out.println(&quot;The map has just changed, take a look\n&quot;);</b>
<b class="nc"><i>882</i>&nbsp;					drawMap();</b>
<b class="nc"><i>883</i>&nbsp;				} else if (phase.getPhase() == Phase.PLAYERTURN) {</b>
<b class="nc"><i>884</i>&nbsp;					ng = (NetGaming) obj;</b>
<b class="nc"><i>885</i>&nbsp;					this.netMap = ng.gameMap;</b>
<b class="nc"><i>886</i>&nbsp;					System.out.println(&quot;The map has just changed, take a look\n&quot;);</b>
<b class="nc"><i>887</i>&nbsp;					drawMap();</b>
<i>888</i>&nbsp;				}
<i>889</i>&nbsp;				break;
<i>890</i>&nbsp;
<i>891</i>&nbsp;			case Constants.GENERAL_PHASE_UPDATE:
<b class="nc"><i>892</i>&nbsp;				phase.advance();</b>
<i>893</i>&nbsp;				//System.out.println(&quot;\n&quot;+Constants.BG_CYAN+phase.getPhase()+&quot; &quot;+phase.getGodsPhase()+&quot; &quot;+phase.getGamePhase()+Constants.RESET+&quot;\n&quot;);	//Only for debug purposes
<b class="nc"><i>894</i>&nbsp;				printInitialPhase();</b>
<i>895</i>&nbsp;				break;
<i>896</i>&nbsp;		}
<i>897</i>&nbsp;	}
<i>898</i>&nbsp;
<i>899</i>&nbsp;
<i>900</i>&nbsp;	/**
<i>901</i>&nbsp;	 * This method finds the workerID of the current player, given only the number of the worker
<i>902</i>&nbsp;	 * @param num the number of the worker
<i>903</i>&nbsp;	 * @return the worker name
<i>904</i>&nbsp;	 * @throws AssertionError if the num is not compatible
<i>905</i>&nbsp;	 */
<i>906</i>&nbsp;	private int findMyWorker(int num) throws AssertionError{
<b class="nc"><i>907</i>&nbsp;		boolean toInitialize = true;</b>
<b class="nc"><i>908</i>&nbsp;		int worker1 = -1;</b>
<b class="nc"><i>909</i>&nbsp;		int worker2 = -1;</b>
<b class="nc"><i>910</i>&nbsp;		for (int i = 0; i &lt; Constants.MAP_SIDE; i++) {</b>
<b class="nc"><i>911</i>&nbsp;			for (int j = 0; j &lt; Constants.MAP_SIDE; j++) {</b>
<b class="nc"><i>912</i>&nbsp;				if(netMap.getCell(i,j).worker != null &amp;&amp; netMap.getCell(i,j).worker.owner.equals(player)) {</b>
<b class="nc"><i>913</i>&nbsp;					if(toInitialize || netMap.getCell(i,j).worker.workerID == worker1) {</b>
<b class="nc"><i>914</i>&nbsp;						worker1 = netMap.getCell(i,j).worker.workerID;</b>
<b class="nc"><i>915</i>&nbsp;						toInitialize = false;</b>
<i>916</i>&nbsp;					} else {
<b class="nc"><i>917</i>&nbsp;						worker2 = netMap.getCell(i,j).worker.workerID;</b>
<i>918</i>&nbsp;					}
<i>919</i>&nbsp;				}
<i>920</i>&nbsp;			}
<i>921</i>&nbsp;		}
<i>922</i>&nbsp;
<b class="nc"><i>923</i>&nbsp;		if(num == 1){</b>
<b class="nc"><i>924</i>&nbsp;			return Math.min(worker1, worker2);</b>
<b class="nc"><i>925</i>&nbsp;		} else if (num == 2) {</b>
<b class="nc"><i>926</i>&nbsp;			return Math.max(worker1, worker2);</b>
<i>927</i>&nbsp;		} else {
<b class="nc"><i>928</i>&nbsp;			throw new AssertionError(&quot;Wrong num&quot;);</b>
<i>929</i>&nbsp;		}
<i>930</i>&nbsp;	}
<i>931</i>&nbsp;
<i>932</i>&nbsp;	/**
<i>933</i>&nbsp;	 * This method finds the workerID of specified player, given the owner and the number of the worker
<i>934</i>&nbsp;	 * @param owner the name of the player
<i>935</i>&nbsp;	 * @param num the number of the worker
<i>936</i>&nbsp;	 * @return the worker name
<i>937</i>&nbsp;	 * @throws AssertionError if the num is not compatible
<i>938</i>&nbsp;	 */
<i>939</i>&nbsp;	private int findOwnerWorker(String owner, int num) throws AssertionError{
<b class="nc"><i>940</i>&nbsp;		boolean toInitialize = true;</b>
<b class="nc"><i>941</i>&nbsp;		int worker1 = -1;</b>
<b class="nc"><i>942</i>&nbsp;		int worker2 = -1;</b>
<b class="nc"><i>943</i>&nbsp;		for (int i = 0; i &lt; Constants.MAP_SIDE; i++) {</b>
<b class="nc"><i>944</i>&nbsp;			for (int j = 0; j &lt; Constants.MAP_SIDE; j++) {</b>
<b class="nc"><i>945</i>&nbsp;				if(netMap.getCell(i,j).worker != null &amp;&amp; netMap.getCell(i,j).worker.owner.equals(owner)) {</b>
<b class="nc"><i>946</i>&nbsp;					if(toInitialize || netMap.getCell(i,j).worker.workerID == worker1) {</b>
<b class="nc"><i>947</i>&nbsp;						worker1 = netMap.getCell(i,j).worker.workerID;</b>
<b class="nc"><i>948</i>&nbsp;						toInitialize = false;</b>
<i>949</i>&nbsp;					} else {
<b class="nc"><i>950</i>&nbsp;						worker2 = netMap.getCell(i,j).worker.workerID;</b>
<i>951</i>&nbsp;					}
<i>952</i>&nbsp;				}
<i>953</i>&nbsp;			}
<i>954</i>&nbsp;		}
<i>955</i>&nbsp;
<b class="nc"><i>956</i>&nbsp;		if(num == 1){</b>
<b class="nc"><i>957</i>&nbsp;			return Math.min(worker1, worker2);</b>
<b class="nc"><i>958</i>&nbsp;		} else if (num == 2) {</b>
<b class="nc"><i>959</i>&nbsp;			return Math.max(worker1, worker2);</b>
<i>960</i>&nbsp;		} else {
<b class="nc"><i>961</i>&nbsp;			throw new AssertionError(&quot;Wrong num&quot;);</b>
<i>962</i>&nbsp;		}
<i>963</i>&nbsp;	}
<i>964</i>&nbsp;
<i>965</i>&nbsp;
<i>966</i>&nbsp;	/* **********************************************
<i>967</i>&nbsp;	 *												*
<i>968</i>&nbsp;	 *												*
<i>969</i>&nbsp;	 *												*
<i>970</i>&nbsp;	 *		PRINTING/DRAWING OF THIS CLASS			*
<i>971</i>&nbsp;	 * 												*
<i>972</i>&nbsp;	 * 												*
<i>973</i>&nbsp;	 * 												*
<i>974</i>&nbsp;	 ************************************************/
<i>975</i>&nbsp;
<i>976</i>&nbsp;	/**
<i>977</i>&nbsp;	 * This method prints the name of the phase every time is needed (when it changes)
<i>978</i>&nbsp;	 */
<i>979</i>&nbsp;	private void printInitialPhase() {
<b class="nc"><i>980</i>&nbsp;		switch (phase.getPhase()) {</b>
<b class="nc"><i>981</i>&nbsp;			case COLORS -&gt; {</b>
<b class="nc"><i>982</i>&nbsp;				System.out.print(&quot;\n\n&quot;);</b>
<b class="nc"><i>983</i>&nbsp;				System.out.print(&quot;----------------------------------------------------------------------------------------------------------\n&quot; +</b>
<i>984</i>&nbsp;						&quot;|                                                                                                        |\n&quot; +
<i>985</i>&nbsp;						&quot;|      _____ ____  _      ____  _____     _____ ______ _      ______ _____ _______ _____ ____  _   _     |\n&quot; +
<i>986</i>&nbsp;						&quot;|     / ____/ __ \\| |    / __ \\|  __ \\   / ____|  ____| |    |  ____/ ____|__   __|_   _/ __ \\| \\ | |    |\n&quot; +
<i>987</i>&nbsp;						&quot;|    | |   | |  | | |   | |  | | |__) | | (___ | |__  | |    | |__ | |       | |    | || |  | |  \\| |    |\n&quot; +
<i>988</i>&nbsp;						&quot;|    | |   | |  | | |   | |  | |  _  /   \\___ \\|  __| | |    |  __|| |       | |    | || |  | | . ` |    |\n&quot; +
<i>989</i>&nbsp;						&quot;|    | |___| |__| | |___| |__| | | \\ \\   ____) | |____| |____| |___| |____   | |   _| || |__| | |\\  |    |\n&quot; +
<i>990</i>&nbsp;						&quot;|     \\_____\\____/|______\\____/|_|  \\_\\ |_____/|______|______|______\\_____|  |_|  |_____\\____/|_| \\_|    |\n&quot; +
<i>991</i>&nbsp;						&quot;|                                                                                                        |\n&quot; +
<i>992</i>&nbsp;						&quot;----------------------------------------------------------------------------------------------------------\n\n\n&quot;);
<i>993</i>&nbsp;			}
<i>994</i>&nbsp;
<i>995</i>&nbsp;			case GODS -&gt; {
<b class="nc"><i>996</i>&nbsp;				if(phase.getGodsPhase() == GodsPhase.CHALLENGER_CHOICE){</b>
<b class="nc"><i>997</i>&nbsp;					System.out.print(&quot;\n\n&quot;);</b>
<b class="nc"><i>998</i>&nbsp;					System.out.print(&quot;-----------------------------------------------------------------------------------------------------\n&quot;+</b>
<i>999</i>&nbsp;							&quot;|                                                                                                   |\n&quot;+
<i>1000</i>&nbsp;							&quot;|      _____  ____  _____   _____    _____ ______ _      ______ _____ _______ _____ ____  _   _     |\n&quot;+
<i>1001</i>&nbsp;							&quot;|     / ____|/ __ \\|  __ \\ / ____|  / ____|  ____| |    |  ____/ ____|__   __|_   _/ __ \\| \\ | |    |\n&quot;+
<i>1002</i>&nbsp;							&quot;|    | |  __| |  | | |  | | (___   | (___ | |__  | |    | |__ | |       | |    | || |  | |  \\| |    |\n&quot;+
<i>1003</i>&nbsp;							&quot;|    | | |_ | |  | | |  | |\\___ \\   \\___ \\|  __| | |    |  __|| |       | |    | || |  | | . ` |    |\n&quot;+
<i>1004</i>&nbsp;							&quot;|    | |__| | |__| | |__| |____) |  ____) | |____| |____| |___| |____   | |   _| || |__| | |\\  |    |\n&quot;+
<i>1005</i>&nbsp;							&quot;|     \\_____|\\____/|_____/|_____/  |_____/|______|______|______\\_____|  |_|  |_____\\____/|_| \\_|    |\n&quot;+
<i>1006</i>&nbsp;							&quot;|                                                                                                   |\n&quot;+
<i>1007</i>&nbsp;							&quot;-----------------------------------------------------------------------------------------------------\n\n\n&quot;);
<i>1008</i>&nbsp;
<i>1009</i>&nbsp;				}
<i>1010</i>&nbsp;			}
<i>1011</i>&nbsp;
<b class="nc"><i>1012</i>&nbsp;			case SETUP -&gt; {</b>
<b class="nc"><i>1013</i>&nbsp;				System.out.print(&quot;\n\n&quot;);</b>
<b class="nc"><i>1014</i>&nbsp;				System.out.print(&quot;-----------------------------------------------\n&quot;+</b>
<i>1015</i>&nbsp;						&quot;|                                             |\n&quot;+
<i>1016</i>&nbsp;						&quot;|      _____ ______ _______ _    _ _____      |\n&quot;+
<i>1017</i>&nbsp;						&quot;|     / ____|  ____|__   __| |  | |  __ \\     |\n&quot;+
<i>1018</i>&nbsp;						&quot;|    | (___ | |__     | |  | |  | | |__) |    |\n&quot;+
<i>1019</i>&nbsp;						&quot;|     \\___ \\|  __|    | |  | |  | |  ___/     |\n&quot;+
<i>1020</i>&nbsp;						&quot;|     ____) | |____   | |  | |__| | |         |\n&quot;+
<i>1021</i>&nbsp;						&quot;|    |_____/|______|  |_|   \\____/|_|         |\n&quot;+
<i>1022</i>&nbsp;						&quot;|                                             |\n&quot;+
<i>1023</i>&nbsp;						&quot;-----------------------------------------------\n\n\n&quot;);
<i>1024</i>&nbsp;			}
<i>1025</i>&nbsp;
<i>1026</i>&nbsp;			case PLAYERTURN -&gt; {
<b class="nc"><i>1027</i>&nbsp;				if(!alreadyPrintedPlay){</b>
<b class="nc"><i>1028</i>&nbsp;					System.out.print(&quot;\n\n&quot;);</b>
<b class="nc"><i>1029</i>&nbsp;					System.out.print(&quot;-----------------------------------------\n&quot;+</b>
<i>1030</i>&nbsp;							&quot;|                                       |\n&quot;+
<i>1031</i>&nbsp;							&quot;|     _____  _           __     ___     |\n&quot;+
<i>1032</i>&nbsp;							&quot;|    |  __ \\| |        /\\\\ \\   / / |    |\n&quot;+
<i>1033</i>&nbsp;							&quot;|    | |__) | |       /  \\\\ \\_/ /| |    |\n&quot;+
<i>1034</i>&nbsp;							&quot;|    |  ___/| |      / /\\ \\\\   / | |    |\n&quot;+
<i>1035</i>&nbsp;							&quot;|    | |    | |____ / ____ \\| |  |_|    |\n&quot;+
<i>1036</i>&nbsp;							&quot;|    |_|    |______/_/    \\_\\_|  (_)    |\n&quot;+
<i>1037</i>&nbsp;							&quot;|                                       |\n&quot;+
<i>1038</i>&nbsp;							&quot;-----------------------------------------\n\n\n&quot;);
<b class="nc"><i>1039</i>&nbsp;					alreadyPrintedPlay = true;</b>
<i>1040</i>&nbsp;				}
<i>1041</i>&nbsp;			}
<i>1042</i>&nbsp;		}
<i>1043</i>&nbsp;	}
<i>1044</i>&nbsp;
<i>1045</i>&nbsp;	/**
<i>1046</i>&nbsp;	 * This method prints the Victory screen whenever the victory message is parsed
<i>1047</i>&nbsp;	 */
<i>1048</i>&nbsp;	private void printVictory() {
<b class="nc"><i>1049</i>&nbsp;		System.out.println(&quot;``   ```.\&quot;^riyyv*}y\\`      -    `:,.  `_:~^T&gt;`=:_-_:\&quot;.&#39;       `^Ywlx}cr^=^xxiv^:::,-~xYREOgPq9#@#QZd0#@@@@@@@@@@@@#B$RgQDQ$dEIT;:~*?x*\&quot;&#39;~  `!            &#39;:~!,:,,:=-`*!`                             .`           \n&quot; +</b>
<i>1050</i>&nbsp;				&quot;```     `_~^*\\uVw3I*`       `          `   `&lt;v,_::_``        `!xT}xL?l|u3OdGV*~^rv)*|(vZ$QbE8######BBBQQ$8gQ##@@#Q0d5M0QQ8EMDWyx&gt;&#39;``-!==*  ,=                      -!`               `              ``            \n&quot; +
<i>1051</i>&nbsp;				&quot;```       &#39;_=ruIIVY*_``\&quot;__&#39;              ```:rv&gt;-`       .___:^)*!:!rTxuTLx)^*rTWT^-^|vv}r_rk8QQg$8OIx^\&quot;`.!^u5gQQQQ8G*&#39;&#39;&lt;xVmPhcwVcv^,.     `*`                    `-`                  \&quot;_``     `   ``            \n&quot; +
<i>1052</i>&nbsp;				&quot;`        `::!^rr*:-&#39;`   ``:-         `-_,,,,-&#39;``..-:~. `:;^^rvx*!`  &#39;}cccccVVuuuyycVcuuuuulVwTxr~:.           `_=*v}kIyccccuuuuucVVVVzVcuuuuy&#39;              `_-`                      ,,  ``   `.  `       `````` \n&quot; +
<i>1053</i>&nbsp;				&quot;``.-`   .,_``-::``         ``  `  `_^)r~!,&#39;   -VB#gr.  &#39;!**rvL}r:`                                                                              `            `=xucr`             `` `-`    `   ``     ````````````\n&quot; +
<i>1054</i>&nbsp;				&quot;__=,&#39;`      .~}^`            `  ```-_,:\&quot;&#39;   -w###I_     `*Vzeeu*:`                                                                              `-:~rvxr:`      }6QQV`          `` `.`     ``&#39;&#39;``   ````````````  \n&quot; +
<i>1055</i>&nbsp;				&quot;r=::::.    =dBQr`              ``:^,-.`    *#@@#~                              ```````````````````````      ```````````````  ``                                 `y#@@8:     `&#39;-___,_-&#39;``````&#39;,^:&#39;````````````     \n&quot; +
<i>1056</i>&nbsp;				&quot;L*:..,\&quot;. `)Q@#R~``._,`        `-,--!`     =@@@#^                                ```````` `````````````````````&#39;```````  ` `                                       u#@@#~  `_:=;^**&lt;=:_.````&#39;=oEP;`                \n&quot; +
<i>1057</i>&nbsp;				&quot;~_&#39;` _^*iZ#@#6~`` &#39;-`:~=`    -~=&#39;   `    _B@@#c                                                                                                                    8#@@B.`_!&lt;*rrr*&lt;!\&quot;_.``\&quot;?TYvL::=\&quot;.              \n&quot; +
<i>1058</i>&nbsp;				&quot;    `!*l#@@@$!   `_!~=-_~!_`_&gt;!.         z#BQ#.         -*xvv).     `*vvr, `*vv*`    `^xiii}xr  *vvvvvvvvvvx\&quot;    :(iLYYx;`   .*vvvvvi)_  .^xvvv:    .\\xvr.         }#$QQT`-,::!::,_-&#39;`-^x?!)}i**=_`:!!:-````    ``\n&quot; +
<i>1059</i>&nbsp;				&quot;` `!!--}@@@#Y`       `=^\&quot;`~x*`          `M3vP0           `MQB8=     `ZQD&#39;   ^QQr   `zBBs)=~vK8  y*==*QQZ==~)v  )R#P*=^i6#B]`  ~QQx!~VQ#M-  xQB8z    vQQY`          =#})VP`  ````````,)v:\&quot;)Tv,`  `!&lt;=:-.-__\&quot;-```.=&lt;\n&quot; +
<i>1060</i>&nbsp;				&quot;v~_-&#39; `a@@@Q=`        &#39;\&quot;ik}:-_&#39;        `*gDX$I            :Q##Q`    3##?    \\##x  .6##~      *  `   :##0    ` m##x     `O##z  |##|   P##T   x##@z` (##I            `0MIdgr        .&lt;r\&quot;!?}^:-``````.-:!:_.&#39;&#39;``-\&quot;!~:\n&quot; +
<i>1061</i>&nbsp;				&quot;^_-`  !Q@@#M!`     .!(VzGmur-  `    `,;^d@@BBc             &gt;B88U`  }QQT     v88L  lQ83              :B8O     -B8B       =B8Q, \\$gu:=]0QR_    xQ88Gc8Qv              6Q#@@M      `-.`,vVxYu}vrr&lt;.``````&#39;.-_,\&quot;:\&quot;_---\n&quot; +
<i>1062</i>&nbsp;				&quot;)!_  `m@@@Di_   `.\&quot;=xzci]}x!.       -~;=Q@@##T              r^~)r _i&lt;|      ^&gt;;^  *~;?              -v=v     -)&lt;L`      _T=v&#39; ^!:*^^r}:       !r~&gt;^*,               M#@@@B    ._.``&lt;cycY(&gt;!!-&#39;v~\&quot;_---__\&quot;\&quot;:::,_...-\n&quot; +
<i>1063</i>&nbsp;				&quot;0h*&#39;`*B@@#E]` `!!~r}56O3\\&lt;_        `__.!UcT*sQ*              :GMM)IM(       :WM:   xM3?`    `;-     `UqY      ~WMV\&quot;    `uGV`  :MM: ,qMv        -KMm_              `cB}xhQM  !~:..~xYx)?xvr&gt;&gt;irrr*&lt;;&gt;&gt;&lt;&lt;&lt;^;=!:,--,\&quot;\n&quot; +
<i>1064</i>&nbsp;				&quot;QRwr*b#@@#M:`,^}YkGdd5}=          \&quot;rv(\\uI}v` =0E,             V5MM5M.       xPGx   `TZZGwYYwdd-     !dHZ`      ^KOdy}YVZOy-   xMMx  }OZj-      :OqOr             ^DP! _]! -=-`-!i}vrvx?^~===??)rrr)rrr*^^==!::\&quot;:~^\n&quot; +
<i>1065</i>&nbsp;				&quot;QBwUm#@@@B^_^(}a$BQEk(-      ```.!)xuy}}oTv*` `vQV`           `eixI:       `^^^*`    `!^)r)&gt;\&quot;      `~^^r:  `     \&quot;^rr(*=`    `^^^*`  ~^**`     &gt;}xVx            !z*  &#39;.  =^`.,=rv^&lt;^***)\\)rr)??|\\()r*^&lt;=!::!!:!~\\x\n&quot; +
<i>1066</i>&nbsp;				&quot;MT!=K#@@@k&lt;x}WgBQ#8y~-       `!~vT}Tcu}r^~!=:,r,*De`           \&quot;*;~                             ``       ``````                               `*~~~r            ~:,!__-&#39;_!._:~****^vv?iT}xx|)rrrr)vxv|*&gt;===!!!=^}y\n&quot; +
<i>1067</i>&nbsp;				&quot;x-.\&quot;GQ@@a*T3Q8Eza0Mx,`      `-*u3PKKuv&lt;:__,._=iDqMI-                                         ```````` ````````````                                            `iKKMvrr^!!;^*)vx}T}xyVcIUwuYv)r)viTVyc}x*&lt;=====~rys\n&quot; +
<i>1068</i>&nbsp;				&quot;x!,cg@@R}M0$8jmB#Rd|.````&#39;..-~vjMqWHVv^!\&quot;__\&quot;!~*V#$O&gt;                                       ``` ````````````````````   `                                     ``}ZD8}YYLv|]YTcyzIeKIcoaIMZMHmzyVwImmehy}v^~!!=~&lt;^\\Kd\n&quot; +
<i>1069</i>&nbsp;				&quot;(&lt;mB@QdEBB0quKR8Q$3]=:::!!=^?}cmPmIj}(^!::::;)r)9BDP:                                            ```````````````                                             =MOBXVVc}}lcVVywkjky}iiyy5ZMM5H3sUIzkVuYx)*&gt;==~^*vc$B\n&quot; +
<i>1070</i>&nbsp;				&quot;ZQ#89$$OZmV}rvTuY}uLr)|x}uVo56R6dZHUu}x)r^&lt;!:&lt;|)LQmwc       `_;xVXI33zkkT}x))^&gt;:\&quot;.`                      ``                    &#39;-:=&gt;*(x}ukIh3Mmyu}Lx^\&quot;.``   `IIGEXXzVucuuTT}Y}TYY}T}]useKaamXylYxvrrrr)vvvxLTckGB#\n&quot; +
<i>1071</i>&nbsp;				&quot;#$6sbbyjlk3Guuyw}xxxVXmPWmsZ9R6OdMKhy}x*~^)?^^}ycPIVV`&#39;&lt;xumMEDMjq666OMyL**||L}VzPqdg$RMKViv^!-                      -=&lt;rxuXPZ$Q06PokTTvvr**^^!:!=!*x}ixv*!_`^dMZM5GsIokcxvv?|\\vxxxvxTkXseXkVuYxv|)r?x}uyzIsKmmmM##\n&quot; +
<i>1072</i>&nbsp;				&quot;Q3ke3wPd6$D06MRIYYVHOMOOMmKdOOOdM3IkV}x?vxv)*&lt;umMbqIPM8QQQQ8g$DmuTcOR6OdUx:`       .zBB8KDggQ#Q$qw(!`        -^Lkdg88E96h}WQBV:      ```&#39;.-_\&quot;\&quot;\&quot;\&quot;!!rvxL}TuywyXGMZMMWmyVT}L]xv|vvv(r\\}ucVyyyVVcTTTTuVyIKHMdO6OdZMR#@\n&quot; +
<i>1073</i>&nbsp;				&quot;D33VXRBBQdV)xIGmwzaGMMZqhzmZdbMMMHUojXjXhsmezx^r3E$$Z3R8QQg$0DEERRKrxPqqMbMIY.   `v\\~VVBBk~~mDd60QB##Es^`:xPB@@##gOWZ}_&#39;x$BoG*k}~\&quot;,:-..--_,,-`-!^r)?\\vxxYTuyzIUUjir?lVu}xx\\)rr*&lt;&lt;r\\xLTVkzkkkkXhUsm3GZdOR0$$$$0Eg@@\n&quot; +
<i>1074</i>&nbsp;				&quot;gIz3ZZMMwivvL]uwVIqMORDDdMMddZZZddddZZMddbZdOO5V*rk8QDqO0DOMMd699R96h*e6OOZG3P):-!*rvZ=e0#8}Q#Q98B0RDB#@@@@@@####BgQB$LD@8Go6jXVKd]. `-,:\&quot;:\&quot;,_:!=~;;&gt;^*r|vxYlcT*~ruVuu}Lx?r*;=!;*vYuykIma3G5MMZMZZZddORD00$gg$Dg@@\n&quot; +
<i>1075</i>&nbsp;				&quot;gd6WPoTYThkyTcmmM9RE000Eg$EddddOED6dZM5Md6REEE09eIVyjUhwu}LYxr*?|iTedM;L5M3UzlwcmV!:rRdDRR#88$MPWdQQ89O@@@@#@##B8Ddqg8B#8Dg8$E6QE_  `-,::_,_,-..```&#39;.-,:!rYVux*)}}}}}L]vr^~!=^)x}uVkIKHMZddZZM5WGGGHGWMMMMZZZbM9#@&quot;);
<b class="nc"><i>1076</i>&nbsp;		System.out.println(&quot;\n\n  You won! Good job!&quot;);</b>
<i>1077</i>&nbsp;	}
<i>1078</i>&nbsp;
<i>1079</i>&nbsp;	/**
<i>1080</i>&nbsp;	 * This method prints the Guide if the player asks for it
<i>1081</i>&nbsp;	 */
<i>1082</i>&nbsp;	private void printGuide() {
<b class="nc"><i>1083</i>&nbsp;		System.out.println(Constants.FG_RED + &quot;\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t**************************** ~ Welcome to Santorini&#39;s guide! ~ ****************************&quot; + Constants.RESET);</b>
<b class="nc"><i>1084</i>&nbsp;		System.out.println(&quot;Here you&#39;ll be told how to play, and what commands to use to do it properly.\n&quot;);</b>
<b class="nc"><i>1085</i>&nbsp;		System.out.println(&quot;The game is divided into several stages, the first of which is to determine the colors you want to use. To do this, the command is \&quot;color colorName\&quot;, where colorName can be a color of choice between red, green, and blue.&quot;);</b>
<b class="nc"><i>1086</i>&nbsp;		System.out.println(&quot;In the second phase, the choice of divinities takes place: firstly, the \&quot;challenger\&quot; will choose two or three deities, depending on the number of players, thanks to the command \&quot;gods godName1 godName2 godName3\&quot;.\nClearly, in a game with two players, godName3 will not be inserted.\n&quot;);</b>
<b class="nc"><i>1087</i>&nbsp;		System.out.println(&quot;Next, each player chooses the god he wants to use from those chosen by the challenger. The command to use to do this, when required by the game, is \&quot;god godName\&quot;. Remember: you can only choose one of the gods chosen by the challenger!&quot;);</b>
<b class="nc"><i>1088</i>&nbsp;		System.out.println(&quot;A player will now be asked to choose who will start the game: the choice can fall on any player in the game, even themselves! Beware though: not necessarily starting first is an advantage.&quot;);</b>
<b class="nc"><i>1089</i>&nbsp;		System.out.println(&quot;The command to choose who should start the game is \&quot;starter playerName\&quot;\n&quot;);</b>
<b class="nc"><i>1090</i>&nbsp;		System.out.println(&quot;The next step is the setup of the game: you have to place the workers! The command is \&quot;position worker1 x_coord y_coord worker2 x_coord y_coord\&quot;. Instead of x_coord and y_coord put the coordinates to which you want to place your worker.&quot;);</b>
<b class="nc"><i>1091</i>&nbsp;		System.out.println(&quot;Warning: You can&#39;t place a worker where another worker already has another worker, even if it&#39;s another player! Pay attention to syntax, it&#39;s very important.\n&quot;);</b>
<b class="nc"><i>1092</i>&nbsp;		System.out.println(&quot;And now, the phase of the game begins! At each turn, you are forced to move a worker and build, after defeat! To move, the command is \&quot;move workerX x_coord y_coord\&quot;: replace workerX as the worker you want to move.&quot;);</b>
<b class="nc"><i>1093</i>&nbsp;		System.out.println(&quot;To build, the standard command is \&quot;build dome/building x_coord y_coord\&quot;: choose whether to build a dome or building, then enter the coordinates. Remember: you can only build with the worker you moved!&quot;);</b>
<b class="nc"><i>1094</i>&nbsp;		System.out.println(&quot;Also remember that you can only build a dome if there is already a level 3 building, unless your god has a particular power!\n&quot;);</b>
<b class="nc"><i>1095</i>&nbsp;		System.out.println(&quot;If you want to learn the special commands for your god, or his/her power, write the name whenever you want. Otherwise write the right command for the gamephase and continue playing! See you soon!:)&quot;);</b>
<b class="nc"><i>1096</i>&nbsp;		System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1097</i>&nbsp;		System.out.println(&quot;\n\n&quot;);</b>
<i>1098</i>&nbsp;	}
<i>1099</i>&nbsp;
<i>1100</i>&nbsp;	/**
<i>1101</i>&nbsp;	 * This method prints the Gods Guide if the player asks for it, based on the divinity he wants to know the power of
<i>1102</i>&nbsp;	 * @param godName is the god&#39;s name
<i>1103</i>&nbsp;	 */
<i>1104</i>&nbsp;	private void printGodGuide(String godName) {
<b class="nc"><i>1105</i>&nbsp;		System.out.println(Constants.FG_RED + &quot;\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t************************* ~ Welcome to the Gods info paragraph! ~ *************************&quot; + Constants.RESET);</b>
<b class="nc"><i>1106</i>&nbsp;		System.out.print(&quot;You selected &quot;);</b>
<b class="nc"><i>1107</i>&nbsp;		switch(godName) {</b>
<i>1108</i>&nbsp;			case Constants.APOLLO :
<b class="nc"><i>1109</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Apollo\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1110</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1111</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tYour Move&quot;);</b>
<b class="nc"><i>1112</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tYour Worker may move into an opponent Workers space by forcing their Worker to the space yours just vacated&quot;);</b>
<b class="nc"><i>1113</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1114</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1115</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1116</i>&nbsp;				break;</b>
<i>1117</i>&nbsp;
<i>1118</i>&nbsp;			case Constants.ARTEMIS :
<b class="nc"><i>1119</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Artemis\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1120</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1121</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tYour Move&quot;);</b>
<b class="nc"><i>1122</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tYour Worker may move one additional time, but not back to its initial space&quot;);</b>
<b class="nc"><i>1123</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1124</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1125</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1126</i>&nbsp;				break;</b>
<i>1127</i>&nbsp;
<i>1128</i>&nbsp;			case Constants.ATHENA :
<b class="nc"><i>1129</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Athena\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1130</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1131</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tOpponents Turn&quot;);</b>
<b class="nc"><i>1132</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tIf one of your Workers moved up on your last turn, opponent Workers cannot move up this turn&quot;);</b>
<b class="nc"><i>1133</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1134</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1135</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1136</i>&nbsp;				break;</b>
<i>1137</i>&nbsp;
<i>1138</i>&nbsp;			case Constants.ATLAS :
<b class="nc"><i>1139</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Atlas\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1140</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1141</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tYour Build&quot;);</b>
<b class="nc"><i>1142</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tYour Worker may build a dome at any level&quot;);</b>
<b class="nc"><i>1143</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1144</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1145</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1146</i>&nbsp;				break;</b>
<i>1147</i>&nbsp;
<i>1148</i>&nbsp;			case Constants.DEMETER :
<b class="nc"><i>1149</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Demeter\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1150</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1151</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tYour Build&quot;);</b>
<b class="nc"><i>1152</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tYour Worker may build one additional time, but not on the same space&quot;);</b>
<b class="nc"><i>1153</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1154</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord (building/dome x_coord y_coord)\&quot;&quot;);</b>
<b class="nc"><i>1155</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1156</i>&nbsp;				break;</b>
<i>1157</i>&nbsp;
<i>1158</i>&nbsp;			case Constants.HEPHAESTUS :
<b class="nc"><i>1159</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Hephaestus\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1160</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1161</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tYour Build&quot;);</b>
<b class="nc"><i>1162</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tYour Worker may build one additional block (not dome) on top of your first block&quot;);</b>
<b class="nc"><i>1163</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1164</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord (double)\&quot;&quot;);</b>
<b class="nc"><i>1165</i>&nbsp;				System.out.println(&quot;Additional notes: only write double if you want to build two buildings in the same spot!&quot;);</b>
<b class="nc"><i>1166</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1167</i>&nbsp;				break;</b>
<i>1168</i>&nbsp;
<i>1169</i>&nbsp;			case Constants.MINOTAUR :
<b class="nc"><i>1170</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Minotaur\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1171</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1172</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tYour Move&quot;);</b>
<b class="nc"><i>1173</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tYour Worker may move into an opponent Workers space, if their Worker can be forced one space straight backwards to an unoccupied space at any level&quot;);</b>
<b class="nc"><i>1174</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1175</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1176</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1177</i>&nbsp;				break;</b>
<i>1178</i>&nbsp;
<i>1179</i>&nbsp;			case Constants.PAN :
<b class="nc"><i>1180</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Pan\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1181</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1182</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tWin Condition&quot;);</b>
<b class="nc"><i>1183</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tYou also win if your Worker moves down two or more levels&quot;);</b>
<b class="nc"><i>1184</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1185</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1186</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1187</i>&nbsp;				break;</b>
<i>1188</i>&nbsp;
<i>1189</i>&nbsp;			case Constants.PROMETHEUS :
<b class="nc"><i>1190</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;Prometheus\n&quot; + Constants.RESET);</b>
<b class="nc"><i>1191</i>&nbsp;				System.out.println(&quot;Here is the power:\n&quot;);</b>
<b class="nc"><i>1192</i>&nbsp;				System.out.println(&quot;Phase\t\t\t-&gt;\tYour Turn&quot;);</b>
<b class="nc"><i>1193</i>&nbsp;				System.out.println(&quot;Power\t\t\t-&gt;\tIf your Worker does not move up, it may build both before and after moving&quot;);</b>
<b class="nc"><i>1194</i>&nbsp;				System.out.println(&quot;Move command\t-&gt;\t\&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1195</i>&nbsp;				System.out.println(&quot;Build command\t-&gt;\t\&quot;build building/dome x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1196</i>&nbsp;				System.out.println(Constants.FG_RED + &quot;\t\t\t\t\t\t\t\t\t\t\t\t\t*******************************************************************************************\n\n&quot; + Constants.RESET);</b>
<i>1197</i>&nbsp;				break;
<i>1198</i>&nbsp;		}
<i>1199</i>&nbsp;	}
<i>1200</i>&nbsp;
<i>1201</i>&nbsp;	/**
<i>1202</i>&nbsp;	 * This method prints the error in case the command was not correctly written
<i>1203</i>&nbsp;	 */
<i>1204</i>&nbsp;	private void printError() {
<b class="nc"><i>1205</i>&nbsp;		if(printedGuide) {</b>
<b class="nc"><i>1206</i>&nbsp;			printedGuide = false;</b>
<i>1207</i>&nbsp;		} else {
<b class="nc"><i>1208</i>&nbsp;			if (player.equals(activePlayer)) {</b>
<b class="nc"><i>1209</i>&nbsp;				switch (phase.getPhase()) {</b>
<b class="nc"><i>1210</i>&nbsp;					case COLORS -&gt; System.out.println(&quot;You must choose a color that is red, blue or green and that is not taken by another player&quot;);</b>
<b class="nc"><i>1211</i>&nbsp;					case GODS -&gt; {</b>
<b class="nc"><i>1212</i>&nbsp;						if (player.equals(players.get(0))) {</b>
<b class="nc"><i>1213</i>&nbsp;							switch (phase.getGodsPhase()) {</b>
<b class="nc"><i>1214</i>&nbsp;								case CHALLENGER_CHOICE -&gt; System.out.println(&quot;You must choose &quot;+players.size()+&quot; gods from the previously showed&quot;);</b>
<b class="nc"><i>1215</i>&nbsp;								case GODS_CHOICE -&gt; System.out.println(&quot;You must choose one of the god chosen by the challenger that is not taken by another player&quot;);</b>
<b class="nc"><i>1216</i>&nbsp;								case STARTER_CHOICE -&gt; System.out.println(&quot;You must choose a player that is inside the game&quot;);</b>
<i>1217</i>&nbsp;							}
<i>1218</i>&nbsp;						} else {
<b class="nc"><i>1219</i>&nbsp;							System.out.println(&quot;You must choose one of the god chosen by the challenger that is not taken by another player.&quot;);</b>
<i>1220</i>&nbsp;						}
<i>1221</i>&nbsp;					}
<b class="nc"><i>1222</i>&nbsp;					case SETUP -&gt; System.out.println(&quot;You must place the worker in a valid cell, not occupied by other workers&quot;);</b>
<b class="nc"><i>1223</i>&nbsp;					case PLAYERTURN -&gt; {</b>
<b class="nc"><i>1224</i>&nbsp;						switch (phase.getGamePhase()) {</b>
<b class="nc"><i>1225</i>&nbsp;							case BEFOREMOVE -&gt; System.out.println(&quot;You can build only in the cells showed before&quot;);</b>
<b class="nc"><i>1226</i>&nbsp;							case MOVE -&gt; System.out.println(&quot;You must move in the cells showed before&quot;);</b>
<b class="nc"><i>1227</i>&nbsp;							case BUILD -&gt; System.out.println(&quot;You must build only in one of the cells showed before&quot;);</b>
<i>1228</i>&nbsp;						}
<i>1229</i>&nbsp;					}
<i>1230</i>&nbsp;				}
<i>1231</i>&nbsp;			} else {
<b class="nc"><i>1232</i>&nbsp;				System.out.println(&quot;You can only disconnect or visualize the guide during turn of other players.&quot;);</b>
<i>1233</i>&nbsp;			}
<i>1234</i>&nbsp;		}
<i>1235</i>&nbsp;	}
<i>1236</i>&nbsp;
<i>1237</i>&nbsp;	/**
<i>1238</i>&nbsp;	 * This method prints some generic errors
<i>1239</i>&nbsp;	 * @param obj the NetObject taken from the deque
<i>1240</i>&nbsp;	 */
<i>1241</i>&nbsp;	private void printServerError(NetObject obj) {
<b class="nc"><i>1242</i>&nbsp;		switch (obj.message) {</b>
<b class="nc"><i>1243</i>&nbsp;			case Constants.GENERAL_SETUP_DISCONNECT -&gt; {</b>
<b class="nc"><i>1244</i>&nbsp;				System.out.print(&quot;\n\n\n---------------------------------------------------------\n&quot; +</b>
<i>1245</i>&nbsp;						&quot;-                                                       -\n&quot; +
<i>1246</i>&nbsp;						&quot;-                                                       -\n&quot; +
<i>1247</i>&nbsp;						&quot;-     SOMEONE HAS DISCONNECTED AND GAME IS FINISHED     -\n&quot; +
<i>1248</i>&nbsp;						&quot;-                                                       -\n&quot; +
<i>1249</i>&nbsp;						&quot;-                                                       -\n&quot; +
<i>1250</i>&nbsp;						&quot;---------------------------------------------------------\n\n\n&quot;);
<i>1251</i>&nbsp;				try {
<b class="nc"><i>1252</i>&nbsp;					Thread.sleep(3000);</b>
<b class="nc"><i>1253</i>&nbsp;				} catch (InterruptedException e) {</b>
<b class="nc"><i>1254</i>&nbsp;					System.out.println(&quot;There has been an interruption problem&quot;);</b>
<b class="nc"><i>1255</i>&nbsp;				}</b>
<i>1256</i>&nbsp;			}
<i>1257</i>&nbsp;			case Constants.GENERAL_FATAL_ERROR -&gt; {
<b class="nc"><i>1258</i>&nbsp;				System.out.print(&quot;\n\n\n---------------------------------------------------------\n&quot; +</b>
<i>1259</i>&nbsp;						&quot;-                                                       -\n&quot; +
<i>1260</i>&nbsp;						&quot;-                                                       -\n&quot; +
<i>1261</i>&nbsp;						&quot;-        SERVER HAS GONE OFFLINE FOR SOME REASON        -\n&quot; +
<i>1262</i>&nbsp;						&quot;-                                                       -\n&quot; +
<i>1263</i>&nbsp;						&quot;-                                                       -\n&quot; +
<i>1264</i>&nbsp;						&quot;---------------------------------------------------------\n\n\n&quot;);
<i>1265</i>&nbsp;				try {
<b class="nc"><i>1266</i>&nbsp;					Thread.sleep(3000);</b>
<b class="nc"><i>1267</i>&nbsp;				} catch (InterruptedException e) {</b>
<b class="nc"><i>1268</i>&nbsp;					System.out.println(&quot;There has been an interruption problem&quot;);</b>
<b class="nc"><i>1269</i>&nbsp;				}</b>
<i>1270</i>&nbsp;			}
<i>1271</i>&nbsp;		}
<i>1272</i>&nbsp;	}
<i>1273</i>&nbsp;
<i>1274</i>&nbsp;	/**
<i>1275</i>&nbsp;	 * This method prints the commands that the user has to write, helping the player in every phase of the game, based on the particular phase and the activeplayer
<i>1276</i>&nbsp;	 */
<i>1277</i>&nbsp;	private void typeInputPrint() {
<b class="nc"><i>1278</i>&nbsp;		if (player.equals(activePlayer)) {</b>
<b class="nc"><i>1279</i>&nbsp;			switch (phase.getPhase()) {</b>
<b class="nc"><i>1280</i>&nbsp;				case COLORS -&gt; {</b>
<b class="nc"><i>1281</i>&nbsp;					if (activePlayer.equals(player)) {</b>
<b class="nc"><i>1282</i>&nbsp;						System.out.println(&quot;Insert the color you want with the following syntax \&quot;color colorName\&quot;&quot;);</b>
<b class="nc"><i>1283</i>&nbsp;						System.out.print(&quot;Choose among: &quot;);</b>
<b class="nc"><i>1284</i>&nbsp;						if(!playerColors.containsValue(new Color(&quot;red&quot;)))	System.out.print(&quot;red &quot;);</b>
<b class="nc"><i>1285</i>&nbsp;						if(!playerColors.containsValue(new Color(&quot;green&quot;)))	System.out.print(&quot;green &quot;);</b>
<b class="nc"><i>1286</i>&nbsp;						if(!playerColors.containsValue(new Color(&quot;blue&quot;)))	System.out.print(&quot;blue&quot;);</b>
<b class="nc"><i>1287</i>&nbsp;						System.out.print(&quot;\n&quot;);</b>
<b class="nc"><i>1288</i>&nbsp;						System.out.print(&quot;Insert the color: &quot;);</b>
<i>1289</i>&nbsp;					} else {
<b class="nc"><i>1290</i>&nbsp;						System.out.println(activePlayer+&quot; is choosing a color.&quot;);</b>
<i>1291</i>&nbsp;					}
<i>1292</i>&nbsp;				}
<b class="nc"><i>1293</i>&nbsp;				case GODS -&gt; {</b>
<b class="nc"><i>1294</i>&nbsp;					if (activePlayer.equals(player)) {</b>
<b class="nc"><i>1295</i>&nbsp;						if (challenger) {</b>
<b class="nc"><i>1296</i>&nbsp;							if (godsGoAlreadyCalled) {</b>
<b class="nc"><i>1297</i>&nbsp;								if(chooseStarter) {</b>
<b class="nc"><i>1298</i>&nbsp;									if(starter == null) {</b>
<b class="nc"><i>1299</i>&nbsp;										System.out.println(&quot;Insert the starter with this syntax \&quot;starter playerName\&quot;&quot;);</b>
<b class="nc"><i>1300</i>&nbsp;										System.out.print(&quot;Choose the starter of the game among these: &quot;);</b>
<b class="nc"><i>1301</i>&nbsp;										if(players != null){</b>
<b class="nc"><i>1302</i>&nbsp;											for(String player : players) {</b>
<b class="nc"><i>1303</i>&nbsp;												System.out.print(player + &quot; &quot;);</b>
<b class="nc"><i>1304</i>&nbsp;											}</b>
<b class="nc"><i>1305</i>&nbsp;											System.out.print(&quot;\n&quot;);</b>
<i>1306</i>&nbsp;										}
<b class="nc"><i>1307</i>&nbsp;										System.out.print(&quot;Insert the starter: &quot;);</b>
<i>1308</i>&nbsp;									}
<i>1309</i>&nbsp;								} else {
<b class="nc"><i>1310</i>&nbsp;									System.out.println(&quot;Insert the god power you want to use with this syntax \&quot;god godname\&quot;&quot;);</b>
<b class="nc"><i>1311</i>&nbsp;									System.out.print(&quot;Choose one god among these: &quot;);</b>
<b class="nc"><i>1312</i>&nbsp;									if(gods != null){</b>
<b class="nc"><i>1313</i>&nbsp;										for(String x : gods) {</b>
<b class="nc"><i>1314</i>&nbsp;											if(!chosenGods.containsValue(x))	System.out.print(x.toLowerCase() + &quot; &quot;);</b>
<b class="nc"><i>1315</i>&nbsp;										}</b>
<b class="nc"><i>1316</i>&nbsp;										System.out.print(&quot;\n&quot;);</b>
<i>1317</i>&nbsp;									} else {
<b class="nc"><i>1318</i>&nbsp;										System.out.println(&quot;Design error, no gods were found&quot;);</b>
<i>1319</i>&nbsp;									}
<b class="nc"><i>1320</i>&nbsp;									System.out.print(&quot;Insert the god: &quot;);    //check god is ok in parsesyntax</b>
<b class="nc"><i>1321</i>&nbsp;									chooseStarter = true;</b>
<i>1322</i>&nbsp;								}
<i>1323</i>&nbsp;							} else {
<b class="nc"><i>1324</i>&nbsp;								System.out.println(&quot;Insert the gods you want to use with the following syntax \&quot;gods godname1 godname2 godname3\&quot;&quot;);</b>
<b class="nc"><i>1325</i>&nbsp;								System.out.println(&quot;Choose among the following gods: apollo, artemis, athena, atlas, demeter, hephaestus, minotaur, pan, prometheus&quot;);</b>
<b class="nc"><i>1326</i>&nbsp;								System.out.print(&quot;Insert the gods: &quot;);    //check gods are ok in parsesyntax</b>
<b class="nc"><i>1327</i>&nbsp;								godsGoAlreadyCalled = true;</b>
<i>1328</i>&nbsp;							}
<i>1329</i>&nbsp;						} else {
<b class="nc"><i>1330</i>&nbsp;							System.out.println(&quot;Insert the god power you want to use with this syntax \&quot;god godname\&quot;&quot;);</b>
<b class="nc"><i>1331</i>&nbsp;							System.out.print(&quot;Choose one god among these: &quot;);</b>
<b class="nc"><i>1332</i>&nbsp;							if(gods != null){</b>
<b class="nc"><i>1333</i>&nbsp;								for(String x : gods) {</b>
<b class="nc"><i>1334</i>&nbsp;									if(!chosenGods.containsValue(x))	System.out.print(x.toLowerCase() + &quot; &quot;);</b>
<b class="nc"><i>1335</i>&nbsp;								}</b>
<b class="nc"><i>1336</i>&nbsp;								System.out.print(&quot;\n&quot;);</b>
<i>1337</i>&nbsp;							} else {
<b class="nc"><i>1338</i>&nbsp;								System.out.println(&quot;Design error, no gods were found&quot;);</b>
<i>1339</i>&nbsp;							}
<b class="nc"><i>1340</i>&nbsp;							System.out.print(&quot;Insert the god: &quot;);    //check god is ok in parsesyntax</b>
<i>1341</i>&nbsp;						}
<i>1342</i>&nbsp;					} else {
<i>1343</i>&nbsp;
<b class="nc"><i>1344</i>&nbsp;						switch(phase.getGodsPhase()) {</b>
<i>1345</i>&nbsp;							case CHALLENGER_CHOICE :
<b class="nc"><i>1346</i>&nbsp;								System.out.println(&quot;The challenger &quot;+activePlayer+&quot; is choosing the gods for the game&quot;);</b>
<b class="nc"><i>1347</i>&nbsp;								break;</b>
<i>1348</i>&nbsp;
<i>1349</i>&nbsp;							case GODS_CHOICE :
<b class="nc"><i>1350</i>&nbsp;								System.out.println(&quot;The other player &quot;+activePlayer+&quot; is choosing his god&quot;);</b>
<b class="nc"><i>1351</i>&nbsp;								break;</b>
<i>1352</i>&nbsp;
<i>1353</i>&nbsp;							case STARTER_CHOICE :
<b class="nc"><i>1354</i>&nbsp;								System.out.println(&quot;The challenger &quot;+activePlayer+&quot; is now choosing the starter player&quot;);</b>
<i>1355</i>&nbsp;								break;
<i>1356</i>&nbsp;						}
<i>1357</i>&nbsp;
<i>1358</i>&nbsp;					}
<i>1359</i>&nbsp;				}
<b class="nc"><i>1360</i>&nbsp;				case SETUP -&gt; {</b>
<b class="nc"><i>1361</i>&nbsp;					if (activePlayer.equals(player)) {</b>
<b class="nc"><i>1362</i>&nbsp;						if(starter.equals(player)) {</b>
<b class="nc"><i>1363</i>&nbsp;							netMap = new NetMap(new it.polimi.ingsw.core.Map());</b>
<b class="nc"><i>1364</i>&nbsp;							drawMap();</b>
<i>1365</i>&nbsp;						}
<b class="nc"><i>1366</i>&nbsp;						System.out.println(&quot;Place the workers with the following syntax: position worker1 x_coord y_coord worker2 x_coord y_coord&quot;);</b>
<b class="nc"><i>1367</i>&nbsp;						System.out.print(&quot;Now place the workers on the map: &quot;);		//check workers are ok in parsesyntax</b>
<i>1368</i>&nbsp;					} else {
<b class="nc"><i>1369</i>&nbsp;						System.out.println(&quot;The other player &quot;+activePlayer+&quot; is setting up the workers&quot;);</b>
<i>1370</i>&nbsp;					}
<i>1371</i>&nbsp;				}
<b class="nc"><i>1372</i>&nbsp;				case PLAYERTURN -&gt; {</b>
<b class="nc"><i>1373</i>&nbsp;					if (activePlayer.equals(player)) {</b>
<b class="nc"><i>1374</i>&nbsp;						switch (phase.getGamePhase()) {</b>
<i>1375</i>&nbsp;							case BEFOREMOVE -&gt; {
<b class="nc"><i>1376</i>&nbsp;								if(chosenGods.containsValue(&quot;PROMETHEUS&quot;)) {</b>
<b class="nc"><i>1377</i>&nbsp;									if(chosenGods.get(player).equals(&quot;PROMETHEUS&quot;)) {</b>
<b class="nc"><i>1378</i>&nbsp;										drawPossibilities();</b>
<b class="nc"><i>1379</i>&nbsp;										System.out.println(&quot;Now you have to first build a building and then move. Or you can just move. Use the syntax \&quot;build workerX building/dome x_coord y_coord\&quot; or \&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1380</i>&nbsp;										System.out.print(&quot;Now it&#39;s your turn: &quot;);</b>
<i>1381</i>&nbsp;									}
<i>1382</i>&nbsp;								}
<i>1383</i>&nbsp;							}
<b class="nc"><i>1384</i>&nbsp;							case MOVE -&gt; {</b>
<b class="nc"><i>1385</i>&nbsp;								drawPossibilities();</b>
<b class="nc"><i>1386</i>&nbsp;								System.out.println(&quot;Here is the map with the positions where you can move, marked with @&quot;);</b>
<b class="nc"><i>1387</i>&nbsp;								System.out.println(&quot;Now it&#39;s your turn! Move one of your workers. Use the syntax \&quot;move workerX x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1388</i>&nbsp;								System.out.print(&quot;Move your worker: &quot;);    //check the move is correct in parsesyntax</b>
<i>1389</i>&nbsp;							}
<b class="nc"><i>1390</i>&nbsp;							case BUILD -&gt; {</b>
<b class="nc"><i>1391</i>&nbsp;								drawPossibilities();</b>
<b class="nc"><i>1392</i>&nbsp;								System.out.println(&quot;Here is the map with the position where you can build&quot;);</b>
<b class="nc"><i>1393</i>&nbsp;								System.out.println(&quot;Now you have to build a building or a dome near the worker. Use the syntax \&quot;build building/dome x_coord y_coord\&quot;&quot;);</b>
<b class="nc"><i>1394</i>&nbsp;								System.out.print(&quot;Now build: &quot;);    //check the build is correct in parsesyntax</b>
<i>1395</i>&nbsp;							}
<i>1396</i>&nbsp;						}
<i>1397</i>&nbsp;					} else {
<b class="nc"><i>1398</i>&nbsp;						if(phase.getGamePhase() == GamePhase.BEFOREMOVE) {	//if I&#39;m in beforemove I show the message only if someone has prometheus</b>
<b class="nc"><i>1399</i>&nbsp;							if(chosenGods.containsValue(Constants.PROMETHEUS)) {</b>
<b class="nc"><i>1400</i>&nbsp;								System.out.println(&quot;You can only disconnect, it&#39;s &quot;+activePlayer+&quot;&#39;s turn.&quot;);</b>
<i>1401</i>&nbsp;							}
<b class="nc"><i>1402</i>&nbsp;						} else if(phase.getGamePhase() == GamePhase.MOVE) {	//if I&#39;m in move and the activePlayer has prometheus, I don&#39;t show it</b>
<b class="nc"><i>1403</i>&nbsp;							if(!chosenGods.containsValue(Constants.PROMETHEUS)) {</b>
<b class="nc"><i>1404</i>&nbsp;								System.out.println(&quot;You can only disconnect, it&#39;s &quot;+activePlayer+&quot;&#39;s turn.&quot;);</b>
<b class="nc"><i>1405</i>&nbsp;							} else if(chosenGods.get(activePlayer).equals(Constants.PROMETHEUS)) {</b>
<b class="nc"><i>1406</i>&nbsp;								System.out.println(&quot;You can only disconnect, it&#39;s &quot;+activePlayer+&quot;&#39;s turn.&quot;);</b>
<i>1407</i>&nbsp;							}
<i>1408</i>&nbsp;						} else {
<b class="nc"><i>1409</i>&nbsp;							System.out.println(&quot;You can only disconnect, it&#39;s &quot;+activePlayer+&quot;&#39;s turn.&quot;);</b>
<i>1410</i>&nbsp;						}
<i>1411</i>&nbsp;					}
<i>1412</i>&nbsp;				}
<i>1413</i>&nbsp;			}
<i>1414</i>&nbsp;		} else {
<b class="nc"><i>1415</i>&nbsp;			System.out.print(&quot;You can disconnect if you want, otherwise you can wait: &quot;);</b>
<i>1416</i>&nbsp;		}
<i>1417</i>&nbsp;	}
<i>1418</i>&nbsp;
<i>1419</i>&nbsp;	/**
<i>1420</i>&nbsp;	 * This method creates and then prints the provisional map after a change is done, before the player can call the UNDO function
<i>1421</i>&nbsp;	 */
<i>1422</i>&nbsp;	private void drawProvisionalMap() {
<b class="nc"><i>1423</i>&nbsp;		if(selectedMove != null) {</b>
<b class="nc"><i>1424</i>&nbsp;			NetMove netMove = selectedMove;</b>
<b class="nc"><i>1425</i>&nbsp;			NetWorker tmpWorker = null;</b>
<b class="nc"><i>1426</i>&nbsp;			NetWorker tmpWorkerOther = null;</b>
<b class="nc"><i>1427</i>&nbsp;			int xFound = -1, yFound = -1, xFoundOther = -1, yFoundOther = -1;</b>
<b class="nc"><i>1428</i>&nbsp;			for (int x = 0; x &lt;= 4; x++) {</b>
<b class="nc"><i>1429</i>&nbsp;				for (int y = 0; y &lt;= 4; y++) {</b>
<b class="nc"><i>1430</i>&nbsp;					if (netMap.getCell(x, y).worker != null &amp;&amp; netMap.getCell(x, y).worker.workerID == netMove.workerID) {</b>
<b class="nc"><i>1431</i>&nbsp;						xFound = x;</b>
<b class="nc"><i>1432</i>&nbsp;						yFound = y;</b>
<b class="nc"><i>1433</i>&nbsp;						tmpWorker = netMap.getCell(x, y).worker;</b>
<i>1434</i>&nbsp;					}
<b class="nc"><i>1435</i>&nbsp;					if (netMove.other != null &amp;&amp; netMap.getCell(x, y).worker != null &amp;&amp; netMap.getCell(x, y).worker.workerID == netMove.other.workerID) {</b>
<b class="nc"><i>1436</i>&nbsp;						xFoundOther = x;</b>
<b class="nc"><i>1437</i>&nbsp;						yFoundOther = y;</b>
<b class="nc"><i>1438</i>&nbsp;						tmpWorkerOther = netMap.getCell(x, y).worker;</b>
<i>1439</i>&nbsp;					}
<i>1440</i>&nbsp;				}
<i>1441</i>&nbsp;			}
<b class="nc"><i>1442</i>&nbsp;			if(xFound != -1) {</b>
<b class="nc"><i>1443</i>&nbsp;				netMap = netMap.changeCell(netMap.getCell(xFound,yFound).setWorker(null), xFound, yFound);	//sets null the first move&#39;s worker</b>
<i>1444</i>&nbsp;			}
<b class="nc"><i>1445</i>&nbsp;			if(xFoundOther != -1) {</b>
<b class="nc"><i>1446</i>&nbsp;				netMap = netMap.changeCell(netMap.getCell(xFoundOther,yFoundOther).setWorker(null), xFoundOther, yFoundOther);	//sets null the othermove&#39;s worker</b>
<i>1447</i>&nbsp;			}
<b class="nc"><i>1448</i>&nbsp;			if(xFound != -1) {</b>
<b class="nc"><i>1449</i>&nbsp;				netMap = netMap.changeCell(netMap.getCell(netMove.cellX,netMove.cellY).setWorker(tmpWorker), netMove.cellX, netMove.cellY);	//sets worker in the new place</b>
<i>1450</i>&nbsp;			}
<b class="nc"><i>1451</i>&nbsp;			if(xFoundOther != -1) {</b>
<b class="nc"><i>1452</i>&nbsp;				netMap = netMap.changeCell(netMap.getCell(netMove.other.cellX,netMove.other.cellY).setWorker(tmpWorkerOther), netMove.other.cellX, netMove.other.cellY);	//sets other worker in the new place</b>
<i>1453</i>&nbsp;			}
<b class="nc"><i>1454</i>&nbsp;			drawMap();</b>
<i>1455</i>&nbsp;		}
<b class="nc"><i>1456</i>&nbsp;		if(selectedBuild != null) {</b>
<b class="nc"><i>1457</i>&nbsp;			NetBuild netBuild = selectedBuild;</b>
<b class="nc"><i>1458</i>&nbsp;			NetBuilding netBuilding = new NetBuilding(netBuild);</b>
<b class="nc"><i>1459</i>&nbsp;			netMap = netMap.changeCell(netMap.getCell(netBuild.cellX,netBuild.cellY).setBuilding(netBuilding), netBuild.cellX, netBuild.cellY);	//sets the new build</b>
<b class="nc"><i>1460</i>&nbsp;			if(netBuild.other != null) {</b>
<b class="nc"><i>1461</i>&nbsp;				netBuilding = new NetBuilding(netBuild.other);</b>
<b class="nc"><i>1462</i>&nbsp;				netMap = netMap.changeCell(netMap.getCell(netBuild.other.cellX,netBuild.other.cellY).setBuilding(netBuilding), netBuild.other.cellX, netBuild.other.cellY);	//sets the new other build</b>
<i>1463</i>&nbsp;			}
<b class="nc"><i>1464</i>&nbsp;			drawMap();</b>
<i>1465</i>&nbsp;		}
<i>1466</i>&nbsp;	}
<i>1467</i>&nbsp;
<i>1468</i>&nbsp;	// DRAWING FUNCTIONS
<i>1469</i>&nbsp;	/**
<i>1470</i>&nbsp;	 * This method prints the map with the drawPoss boolean that is true: in this way, the drawMap will also draw the possible moves or builds the player can do
<i>1471</i>&nbsp;	 */
<i>1472</i>&nbsp;	private void drawPossibilities(){
<b class="nc"><i>1473</i>&nbsp;		drawPoss = true;</b>
<b class="nc"><i>1474</i>&nbsp;		drawMap();</b>
<i>1475</i>&nbsp;	}
<i>1476</i>&nbsp;
<i>1477</i>&nbsp;	/**
<i>1478</i>&nbsp;	 * This method actually draws the map, and after that prints all the relevant information
<i>1479</i>&nbsp;	 */
<i>1480</i>&nbsp;	private void drawMap(){
<b class="nc"><i>1481</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;       0      |      1      |      2      |      3      |      4       &quot;);</b>
<b class="nc"><i>1482</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;+-------------+-------------+-------------+-------------+-------------+&quot;);</b>
<b class="nc"><i>1483</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,0)) + drawDome(netMap.getCell(0,0)) + drawSpaces(1, netMap.getCell(0,0)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,0)) + drawDome(netMap.getCell(1,0)) + drawSpaces(1, netMap.getCell(1,0)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,0)) + drawDome(netMap.getCell(2,0)) + drawSpaces(1, netMap.getCell(2,0)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,0)) + drawDome(netMap.getCell(3,0)) + drawSpaces(1, netMap.getCell(3,0)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,0)) + drawDome(netMap.getCell(4,0)) + drawSpaces(1, netMap.getCell(4,0)) + &quot;|&quot;);</b>
<b class="nc"><i>1484</i>&nbsp;		System.out.println(&quot;\t0 &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,0)) + drawWorker(netMap.getCell(0,0)) + drawSpaces(1, netMap.getCell(0,0)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,0)) + drawWorker(netMap.getCell(1,0)) + drawSpaces(1, netMap.getCell(1,0)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,0)) + drawWorker(netMap.getCell(2,0)) + drawSpaces(1, netMap.getCell(2,0)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,0)) + drawWorker(netMap.getCell(3,0)) + drawSpaces(1, netMap.getCell(3,0)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,0)) + drawWorker(netMap.getCell(4,0)) + drawSpaces(1, netMap.getCell(4,0)) + &quot;|&quot;);</b>
<b class="nc"><i>1485</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(2, netMap.getCell(0,0)) + drawBuilding(netMap.getCell(0,0)) + drawSpaces(2, netMap.getCell(0,0)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(1,0)) + drawBuilding(netMap.getCell(1,0)) + drawSpaces(2, netMap.getCell(1,0)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(2,0)) + drawBuilding(netMap.getCell(2,0)) + drawSpaces(2, netMap.getCell(2,0)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(3,0)) + drawBuilding(netMap.getCell(3,0)) + drawSpaces(2, netMap.getCell(3,0)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(4,0)) + drawBuilding(netMap.getCell(4,0)) + drawSpaces(2, netMap.getCell(4,0)) + &quot;|&quot;);</b>
<b class="nc"><i>1486</i>&nbsp;		System.out.println(&quot;\t- &quot; + &quot;+-------------+-------------+-------------+-------------+-------------+&quot;);</b>
<b class="nc"><i>1487</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,1)) + drawDome(netMap.getCell(0,1)) + drawSpaces(1, netMap.getCell(0,1)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,1)) + drawDome(netMap.getCell(1,1)) + drawSpaces(1, netMap.getCell(1,1)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,1)) + drawDome(netMap.getCell(2,1)) + drawSpaces(1, netMap.getCell(2,1)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,1)) + drawDome(netMap.getCell(3,1)) + drawSpaces(1, netMap.getCell(3,1)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,1)) + drawDome(netMap.getCell(4,1)) + drawSpaces(1, netMap.getCell(4,1)) + &quot;|&quot;);</b>
<b class="nc"><i>1488</i>&nbsp;		System.out.println(&quot;\t1 &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,1)) + drawWorker(netMap.getCell(0,1)) + drawSpaces(1, netMap.getCell(0,1)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,1)) + drawWorker(netMap.getCell(1,1)) + drawSpaces(1, netMap.getCell(1,1)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,1)) + drawWorker(netMap.getCell(2,1)) + drawSpaces(1, netMap.getCell(2,1)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,1)) + drawWorker(netMap.getCell(3,1)) + drawSpaces(1, netMap.getCell(3,1)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,1)) + drawWorker(netMap.getCell(4,1)) + drawSpaces(1, netMap.getCell(4,1)) + &quot;|&quot;);</b>
<b class="nc"><i>1489</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(2, netMap.getCell(0,1)) + drawBuilding(netMap.getCell(0,1)) + drawSpaces(2, netMap.getCell(0,1)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(1,1)) + drawBuilding(netMap.getCell(1,1)) + drawSpaces(2, netMap.getCell(1,1)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(2,1)) + drawBuilding(netMap.getCell(2,1)) + drawSpaces(2, netMap.getCell(2,1)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(3,1)) + drawBuilding(netMap.getCell(3,1)) + drawSpaces(2, netMap.getCell(3,1)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(4,1)) + drawBuilding(netMap.getCell(4,1)) + drawSpaces(2, netMap.getCell(4,1)) + &quot;|&quot;);</b>
<b class="nc"><i>1490</i>&nbsp;		System.out.println(&quot;\t- &quot; + &quot;+-------------+-------------+-------------+-------------+-------------+&quot;);</b>
<b class="nc"><i>1491</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,2)) + drawDome(netMap.getCell(0,2)) + drawSpaces(1, netMap.getCell(0,2)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,2)) + drawDome(netMap.getCell(1,2)) + drawSpaces(1, netMap.getCell(1,2)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,2)) + drawDome(netMap.getCell(2,2)) + drawSpaces(1, netMap.getCell(2,2)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,2)) + drawDome(netMap.getCell(3,2)) + drawSpaces(1, netMap.getCell(3,2)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,2)) + drawDome(netMap.getCell(4,2)) + drawSpaces(1, netMap.getCell(4,2)) + &quot;|&quot;);</b>
<b class="nc"><i>1492</i>&nbsp;		System.out.println(&quot;\t2 &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,2)) + drawWorker(netMap.getCell(0,2)) + drawSpaces(1, netMap.getCell(0,2)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,2)) + drawWorker(netMap.getCell(1,2)) + drawSpaces(1, netMap.getCell(1,2)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,2)) + drawWorker(netMap.getCell(2,2)) + drawSpaces(1, netMap.getCell(2,2)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,2)) + drawWorker(netMap.getCell(3,2)) + drawSpaces(1, netMap.getCell(3,2)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,2)) + drawWorker(netMap.getCell(4,2)) + drawSpaces(1, netMap.getCell(4,2)) + &quot;|&quot;);</b>
<b class="nc"><i>1493</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(2, netMap.getCell(0,2)) + drawBuilding(netMap.getCell(0,2)) + drawSpaces(2, netMap.getCell(0,2)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(1,2)) + drawBuilding(netMap.getCell(1,2)) + drawSpaces(2, netMap.getCell(1,2)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(2,2)) + drawBuilding(netMap.getCell(2,2)) + drawSpaces(2, netMap.getCell(2,2)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(3,2)) + drawBuilding(netMap.getCell(3,2)) + drawSpaces(2, netMap.getCell(3,2)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(4,2)) + drawBuilding(netMap.getCell(4,2)) + drawSpaces(2, netMap.getCell(4,2)) + &quot;|&quot;);</b>
<b class="nc"><i>1494</i>&nbsp;		System.out.println(&quot;\t- &quot; + &quot;+-------------+-------------+-------------+-------------+-------------+&quot;);</b>
<b class="nc"><i>1495</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,3)) + drawDome(netMap.getCell(0,3)) + drawSpaces(1, netMap.getCell(0,3)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,3)) + drawDome(netMap.getCell(1,3)) + drawSpaces(1, netMap.getCell(1,3)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,3)) + drawDome(netMap.getCell(2,3)) + drawSpaces(1, netMap.getCell(2,3)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,3)) + drawDome(netMap.getCell(3,3)) + drawSpaces(1, netMap.getCell(3,3)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,3)) + drawDome(netMap.getCell(4,3)) + drawSpaces(1, netMap.getCell(4,3)) + &quot;|&quot;);</b>
<b class="nc"><i>1496</i>&nbsp;		System.out.println(&quot;\t3 &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,3)) + drawWorker(netMap.getCell(0,3)) + drawSpaces(1, netMap.getCell(0,3)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,3)) + drawWorker(netMap.getCell(1,3)) + drawSpaces(1, netMap.getCell(1,3)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,3)) + drawWorker(netMap.getCell(2,3)) + drawSpaces(1, netMap.getCell(2,3)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,3)) + drawWorker(netMap.getCell(3,3)) + drawSpaces(1, netMap.getCell(3,3)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,3)) + drawWorker(netMap.getCell(4,3)) + drawSpaces(1, netMap.getCell(4,3)) + &quot;|&quot;);</b>
<b class="nc"><i>1497</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(2, netMap.getCell(0,3)) + drawBuilding(netMap.getCell(0,3)) + drawSpaces(2, netMap.getCell(0,3)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(1,3)) + drawBuilding(netMap.getCell(1,3)) + drawSpaces(2, netMap.getCell(1,3)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(2,3)) + drawBuilding(netMap.getCell(2,3)) + drawSpaces(2, netMap.getCell(2,3)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(3,3)) + drawBuilding(netMap.getCell(3,3)) + drawSpaces(2, netMap.getCell(3,3)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(4,3)) + drawBuilding(netMap.getCell(4,3)) + drawSpaces(2, netMap.getCell(4,3)) + &quot;|&quot;);</b>
<b class="nc"><i>1498</i>&nbsp;		System.out.println(&quot;\t- &quot; + &quot;+-------------+-------------+-------------+-------------+-------------+&quot;);</b>
<b class="nc"><i>1499</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,4)) + drawDome(netMap.getCell(0,4)) + drawSpaces(1, netMap.getCell(0,4)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,4)) + drawDome(netMap.getCell(1,4)) + drawSpaces(1, netMap.getCell(1,4)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,4)) + drawDome(netMap.getCell(2,4)) + drawSpaces(1, netMap.getCell(2,4)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,4)) + drawDome(netMap.getCell(3,4)) + drawSpaces(1, netMap.getCell(3,4)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,4)) + drawDome(netMap.getCell(4,4)) + drawSpaces(1, netMap.getCell(4,4)) + &quot;|&quot;);</b>
<b class="nc"><i>1500</i>&nbsp;		System.out.println(&quot;\t4 &quot; + &quot;|&quot; + drawSpaces(1, netMap.getCell(0,4)) + drawWorker(netMap.getCell(0,4)) + drawSpaces(1, netMap.getCell(0,4)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(1,4)) + drawWorker(netMap.getCell(1,4)) + drawSpaces(1, netMap.getCell(1,4)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(2,4)) + drawWorker(netMap.getCell(2,4)) + drawSpaces(1, netMap.getCell(2,4)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(3,4)) + drawWorker(netMap.getCell(3,4)) + drawSpaces(1, netMap.getCell(3,4)) + &quot;|&quot; + drawSpaces(1, netMap.getCell(4,4)) + drawWorker(netMap.getCell(4,4)) + drawSpaces(1, netMap.getCell(4,4)) + &quot;|&quot;);</b>
<b class="nc"><i>1501</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;|&quot; + drawSpaces(2, netMap.getCell(0,4)) + drawBuilding(netMap.getCell(0,4)) + drawSpaces(2, netMap.getCell(0,4)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(1,4)) + drawBuilding(netMap.getCell(1,4)) + drawSpaces(2, netMap.getCell(1,4)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(2,4)) + drawBuilding(netMap.getCell(2,4)) + drawSpaces(2, netMap.getCell(2,4)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(3,4)) + drawBuilding(netMap.getCell(3,4)) + drawSpaces(2, netMap.getCell(3,4)) + &quot;|&quot; + drawSpaces(2, netMap.getCell(4,4)) + drawBuilding(netMap.getCell(4,4)) + drawSpaces(2, netMap.getCell(4,4)) + &quot;|&quot;);</b>
<b class="nc"><i>1502</i>&nbsp;		System.out.println(&quot;\t  &quot; + &quot;+-------------+-------------+-------------+-------------+-------------+&quot;);</b>
<i>1503</i>&nbsp;
<b class="nc"><i>1504</i>&nbsp;		writeAllInfo();</b>
<i>1505</i>&nbsp;
<b class="nc"><i>1506</i>&nbsp;		drawPoss = false;</b>
<i>1507</i>&nbsp;	}
<i>1508</i>&nbsp;
<i>1509</i>&nbsp;	/**
<i>1510</i>&nbsp;	 * This method is called in the drawMap for drawing the spaces: they can be blank or have some &quot;@&quot; that identify the cells where the player can move or build
<i>1511</i>&nbsp;	 * @param type the type of the space to be written
<i>1512</i>&nbsp;	 * @param netC the cell of the map that calls the drawSpaces
<i>1513</i>&nbsp;	 * @return the symbol to be drawn
<i>1514</i>&nbsp;	 */
<i>1515</i>&nbsp;	public String drawSpaces(int type, NetCell netC){
<b class="nc"><i>1516</i>&nbsp;		if(drawPoss){</b>
<b class="nc"><i>1517</i>&nbsp;			if(phase.getGamePhase() == GamePhase.MOVE){</b>
<b class="nc"><i>1518</i>&nbsp;				if(netMoves != null){</b>
<b class="nc"><i>1519</i>&nbsp;					for(NetMove netM : netMoves){</b>
<b class="nc"><i>1520</i>&nbsp;						NetMove x = netM;</b>
<b class="nc"><i>1521</i>&nbsp;						while(x != null) {</b>
<b class="nc"><i>1522</i>&nbsp;							if(x.cellX == netMap.getX(netC) &amp;&amp; x.cellY == netMap.getY(netC)){</b>
<b class="nc"><i>1523</i>&nbsp;								if (type == 0) {</b>
<b class="nc"><i>1524</i>&nbsp;									cellToFill = true;</b>
<b class="nc"><i>1525</i>&nbsp;									return &quot;@@@@@@@@@@@@@&quot;;</b>
<i>1526</i>&nbsp;								}
<b class="nc"><i>1527</i>&nbsp;								else if (type == 1) {</b>
<b class="nc"><i>1528</i>&nbsp;									cellToFill = true;</b>
<b class="nc"><i>1529</i>&nbsp;									return &quot;@@@@@&quot;;</b>
<i>1530</i>&nbsp;								}
<b class="nc"><i>1531</i>&nbsp;								else if (type == 2) {</b>
<b class="nc"><i>1532</i>&nbsp;									cellToFill = true;</b>
<b class="nc"><i>1533</i>&nbsp;									return &quot;@@@@@&quot;;</b>
<i>1534</i>&nbsp;								}
<i>1535</i>&nbsp;							}
<b class="nc"><i>1536</i>&nbsp;							if(chosenGods.get(player).equals(Constants.APOLLO) || chosenGods.get(player).equals(Constants.MINOTAUR)) {</b>
<b class="nc"><i>1537</i>&nbsp;								x = null;</b>
<i>1538</i>&nbsp;							} else {
<b class="nc"><i>1539</i>&nbsp;								x = x.other;</b>
<i>1540</i>&nbsp;							}
<i>1541</i>&nbsp;						}
<b class="nc"><i>1542</i>&nbsp;					}</b>
<i>1543</i>&nbsp;				}
<b class="nc"><i>1544</i>&nbsp;				if (type == 0) {</b>
<b class="nc"><i>1545</i>&nbsp;					cellToFill = false;</b>
<b class="nc"><i>1546</i>&nbsp;					return &quot;             &quot;;</b>
<i>1547</i>&nbsp;				}
<b class="nc"><i>1548</i>&nbsp;				else if (type == 1) {</b>
<b class="nc"><i>1549</i>&nbsp;					cellToFill = false;</b>
<b class="nc"><i>1550</i>&nbsp;					return &quot;     &quot;;</b>
<i>1551</i>&nbsp;				}
<b class="nc"><i>1552</i>&nbsp;				else if (type == 2) {</b>
<b class="nc"><i>1553</i>&nbsp;					cellToFill = false;</b>
<b class="nc"><i>1554</i>&nbsp;					return &quot;     &quot;;</b>
<i>1555</i>&nbsp;				}
<i>1556</i>&nbsp;			}
<b class="nc"><i>1557</i>&nbsp;			else if(phase.getGamePhase() == GamePhase.BEFOREMOVE || phase.getGamePhase() == GamePhase.BUILD){</b>
<b class="nc"><i>1558</i>&nbsp;				if(netBuilds != null){</b>
<b class="nc"><i>1559</i>&nbsp;					for(NetBuild netB : netBuilds){</b>
<b class="nc"><i>1560</i>&nbsp;						if(netB.cellX == netMap.getX(netC) &amp;&amp; netB.cellY == netMap.getY(netC)){</b>
<b class="nc"><i>1561</i>&nbsp;							NetBuild x = netB;</b>
<b class="nc"><i>1562</i>&nbsp;							while(x != null) {</b>
<b class="nc"><i>1563</i>&nbsp;								if(x.cellX == netMap.getX(netC) &amp;&amp; x.cellY == netMap.getY(netC)){</b>
<b class="nc"><i>1564</i>&nbsp;									if (type == 0) {</b>
<b class="nc"><i>1565</i>&nbsp;										cellToFill = true;</b>
<b class="nc"><i>1566</i>&nbsp;										return &quot;@@@@@@@@@@@@@&quot;;</b>
<i>1567</i>&nbsp;									}
<b class="nc"><i>1568</i>&nbsp;									else if (type == 1) {</b>
<b class="nc"><i>1569</i>&nbsp;										cellToFill = true;</b>
<b class="nc"><i>1570</i>&nbsp;										return &quot;@@@@@&quot;;</b>
<i>1571</i>&nbsp;									}
<b class="nc"><i>1572</i>&nbsp;									else if (type == 2) {</b>
<b class="nc"><i>1573</i>&nbsp;										cellToFill = true;</b>
<b class="nc"><i>1574</i>&nbsp;										return &quot;@@@@@&quot;;</b>
<i>1575</i>&nbsp;									}
<i>1576</i>&nbsp;								}
<b class="nc"><i>1577</i>&nbsp;								x = x.other;</b>
<i>1578</i>&nbsp;							}
<i>1579</i>&nbsp;						}
<b class="nc"><i>1580</i>&nbsp;					}</b>
<i>1581</i>&nbsp;				}
<b class="nc"><i>1582</i>&nbsp;				if (type == 0) {</b>
<b class="nc"><i>1583</i>&nbsp;					cellToFill = false;</b>
<b class="nc"><i>1584</i>&nbsp;					return &quot;             &quot;;</b>
<i>1585</i>&nbsp;				}
<b class="nc"><i>1586</i>&nbsp;				else if (type == 1) {</b>
<b class="nc"><i>1587</i>&nbsp;					cellToFill = false;</b>
<b class="nc"><i>1588</i>&nbsp;					return &quot;     &quot;;</b>
<i>1589</i>&nbsp;				}
<b class="nc"><i>1590</i>&nbsp;				else if (type == 2) {</b>
<b class="nc"><i>1591</i>&nbsp;					cellToFill = false;</b>
<b class="nc"><i>1592</i>&nbsp;					return &quot;     &quot;;</b>
<i>1593</i>&nbsp;				}
<i>1594</i>&nbsp;			}
<i>1595</i>&nbsp;		}
<i>1596</i>&nbsp;		else{
<b class="nc"><i>1597</i>&nbsp;			if (type == 0) {</b>
<b class="nc"><i>1598</i>&nbsp;				cellToFill = false;</b>
<b class="nc"><i>1599</i>&nbsp;				return &quot;             &quot;;</b>
<i>1600</i>&nbsp;			}
<b class="nc"><i>1601</i>&nbsp;			else if (type == 1) {</b>
<b class="nc"><i>1602</i>&nbsp;				cellToFill = false;</b>
<b class="nc"><i>1603</i>&nbsp;				return &quot;     &quot;;</b>
<i>1604</i>&nbsp;			}
<b class="nc"><i>1605</i>&nbsp;			else if (type == 2) {</b>
<b class="nc"><i>1606</i>&nbsp;				cellToFill = false;</b>
<b class="nc"><i>1607</i>&nbsp;				return &quot;     &quot;;</b>
<i>1608</i>&nbsp;			}
<i>1609</i>&nbsp;		}
<b class="nc"><i>1610</i>&nbsp;		return &quot;ERROR&quot;;</b>
<i>1611</i>&nbsp;	}
<i>1612</i>&nbsp;
<i>1613</i>&nbsp;	/**
<i>1614</i>&nbsp;	 * This method is called in the drawMap for drawing the workers: they are displayed with the notation W.worker_number
<i>1615</i>&nbsp;	 * @param netC the cell of the map that calls the drawSpaces
<i>1616</i>&nbsp;	 * @return the symbol to be drawn
<i>1617</i>&nbsp;	 */
<i>1618</i>&nbsp;	public String drawWorker(NetCell netC){
<b class="nc"><i>1619</i>&nbsp;		if(netC.worker != null){</b>
<b class="nc"><i>1620</i>&nbsp;			String playerNum = netC.worker.workerID == findOwnerWorker(netC.worker.owner, 1) ? &quot;1&quot; : &quot;2&quot;;</b>
<b class="nc"><i>1621</i>&nbsp;			if(playerColors.get(netC.worker.owner).equals(new Color(&quot;red&quot;))) {</b>
<b class="nc"><i>1622</i>&nbsp;				return (Constants.FG_RED + &quot;W.&quot; + playerNum + Constants.RESET);</b>
<b class="nc"><i>1623</i>&nbsp;			} else if(playerColors.get(netC.worker.owner).equals(new Color(&quot;green&quot;))) {</b>
<b class="nc"><i>1624</i>&nbsp;				return Constants.FG_GREEN + &quot;W.&quot; + playerNum + Constants.RESET;</b>
<b class="nc"><i>1625</i>&nbsp;			} else if(playerColors.get(netC.worker.owner).equals(new Color(&quot;blue&quot;))) {</b>
<b class="nc"><i>1626</i>&nbsp;				return Constants.FG_BLUE + &quot;W.&quot; + playerNum + Constants.RESET;</b>
<i>1627</i>&nbsp;			} else {
<b class="nc"><i>1628</i>&nbsp;				return &quot;ERROR&quot;;	//should never be returned</b>
<i>1629</i>&nbsp;			}
<i>1630</i>&nbsp;		}
<b class="nc"><i>1631</i>&nbsp;		if(drawPoss &amp;&amp; cellToFill) {</b>
<b class="nc"><i>1632</i>&nbsp;			return &quot;@@@&quot;;</b>
<i>1633</i>&nbsp;		} else {
<b class="nc"><i>1634</i>&nbsp;			return &quot;   &quot;;</b>
<i>1635</i>&nbsp;		}
<i>1636</i>&nbsp;	}
<i>1637</i>&nbsp;
<i>1638</i>&nbsp;	/**
<i>1639</i>&nbsp;	 * This method is called in the drawMap for drawing the domes: they are displayed with the notation D if necessary
<i>1640</i>&nbsp;	 * @param netC the cell of the map that calls the drawSpaces
<i>1641</i>&nbsp;	 * @return the symbol to be drawn
<i>1642</i>&nbsp;	 */
<i>1643</i>&nbsp;	public String drawDome(NetCell netC){
<b class="nc"><i>1644</i>&nbsp;		if (netC.building.dome) {</b>
<b class="nc"><i>1645</i>&nbsp;			if(drawPoss &amp;&amp; cellToFill) {</b>
<b class="nc"><i>1646</i>&nbsp;				return &quot;@D@&quot;;</b>
<i>1647</i>&nbsp;			} else {
<b class="nc"><i>1648</i>&nbsp;				return &quot; D &quot;;</b>
<i>1649</i>&nbsp;			}
<i>1650</i>&nbsp;		}
<b class="nc"><i>1651</i>&nbsp;		if(drawPoss &amp;&amp; cellToFill) {</b>
<b class="nc"><i>1652</i>&nbsp;			return &quot;@@@&quot;;</b>
<i>1653</i>&nbsp;		} else {
<b class="nc"><i>1654</i>&nbsp;			return &quot;   &quot;;</b>
<i>1655</i>&nbsp;		}
<i>1656</i>&nbsp;	}
<i>1657</i>&nbsp;
<i>1658</i>&nbsp;	/**
<i>1659</i>&nbsp;	 * This method is called in the drawMap for drawing the buildings: they are displayed with the notation B.building_height
<i>1660</i>&nbsp;	 * @param netC the cell of the map that calls the drawSpaces
<i>1661</i>&nbsp;	 * @return the symbol to be drawn
<i>1662</i>&nbsp;	 */
<i>1663</i>&nbsp;	public String drawBuilding(NetCell netC){
<b class="nc"><i>1664</i>&nbsp;		if (netC.building.level == 3) {</b>
<b class="nc"><i>1665</i>&nbsp;			return &quot;B:3&quot;;</b>
<i>1666</i>&nbsp;		}
<b class="nc"><i>1667</i>&nbsp;		else if (netC.building.level == 2) {</b>
<b class="nc"><i>1668</i>&nbsp;			return &quot;B:2&quot;;</b>
<i>1669</i>&nbsp;		}
<b class="nc"><i>1670</i>&nbsp;		else if (netC.building.level == 1) {</b>
<b class="nc"><i>1671</i>&nbsp;			return &quot;B:1&quot;;</b>
<i>1672</i>&nbsp;		}
<b class="nc"><i>1673</i>&nbsp;		if(drawPoss &amp;&amp; cellToFill) {</b>
<b class="nc"><i>1674</i>&nbsp;			return &quot;@@@&quot;;</b>
<i>1675</i>&nbsp;		} else {
<b class="nc"><i>1676</i>&nbsp;			return &quot;   &quot;;</b>
<i>1677</i>&nbsp;		}
<i>1678</i>&nbsp;	}
<i>1679</i>&nbsp;
<i>1680</i>&nbsp;	/**
<i>1681</i>&nbsp;	 * This method is called in the drawMap for drawing the additional info, as the color of the players and the gods they have
<i>1682</i>&nbsp;	 */
<i>1683</i>&nbsp;	public void writeAllInfo(){
<b class="nc"><i>1684</i>&nbsp;		for(String xplayer : players) {</b>
<b class="nc"><i>1685</i>&nbsp;			System.out.print(&quot;\t\t\t&quot; + &quot;The player &quot;);</b>
<b class="nc"><i>1686</i>&nbsp;			if(playerColors.get(xplayer).equals(new Color(&quot;RED&quot;))) {</b>
<b class="nc"><i>1687</i>&nbsp;				System.out.print(Constants.FG_RED + xplayer + Constants.RESET);</b>
<b class="nc"><i>1688</i>&nbsp;			} else if (playerColors.get(xplayer).equals(new Color(&quot;BLUE&quot;))) {</b>
<b class="nc"><i>1689</i>&nbsp;				System.out.print(Constants.FG_BLUE + xplayer + Constants.RESET);</b>
<b class="nc"><i>1690</i>&nbsp;			} else if(playerColors.get(xplayer).equals(new Color(&quot;GREEN&quot;))) {</b>
<b class="nc"><i>1691</i>&nbsp;				System.out.print(Constants.FG_GREEN + xplayer + Constants.RESET);</b>
<i>1692</i>&nbsp;			}
<b class="nc"><i>1693</i>&nbsp;			System.out.print(&quot; has the god &quot;);</b>
<b class="nc"><i>1694</i>&nbsp;			System.out.print(chosenGods.get(xplayer) + &quot;.&quot;);</b>
<b class="nc"><i>1695</i>&nbsp;			System.out.print(&quot;\n&quot;);</b>
<b class="nc"><i>1696</i>&nbsp;		}</b>
<b class="nc"><i>1697</i>&nbsp;		System.out.print(&quot;\n&quot;);</b>
<i>1698</i>&nbsp;	}
<i>1699</i>&nbsp;}
</div>
</div>

<div class="footer">
    
    <div style="float:right;">generated on 2020-07-03 03:57</div>
</div>
</body>
</html>
